BOOMR_start=(new Date).getTime();!function(s){var c,e,t,u=(s=s.parent!==s&&document.getElementById("boomr-if-as")&&"script"===document.getElementById("boomr-if-as").nodeName.toLowerCase()?s.parent:s).document;void 0===s.BOOMR&&(s.BOOMR={});BOOMR=s.BOOMR;if(!BOOMR.version){BOOMR.version="0.9";BOOMR.window=s;c={beacon_url:"",site_domain:s.location.hostname.replace(/.*?([^.]+\.[^.]+)\.?$/,"$1").toLowerCase(),user_ip:"",onloadfired:!1,handlers_attached:!1,events:{page_ready:[],page_unload:[],dom_loaded:[],visibility_changed:[],before_beacon:[],click:[]},vars:{},disabled_plugins:{},onclick_handler:function(e){var t;(e=e||s.event).target?t=e.target:e.srcElement&&(t=e.srcElement);(t=3===t.nodeType?t.parentNode:t)&&"OBJECT"===t.nodeName.toUpperCase()&&"application/x-shockwave-flash"===t.type||c.fireEvent("click",t)},fireEvent:function(e,t){var n,r,i;if(!this.events.hasOwnProperty(e))return!1;i=this.events[e];for(n=0;n<i.length;n++)(r=i[n])[0].call(r[2],t,r[1]);return!0},addListener:function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,n)}};e={t_start:BOOMR_start,t_end:null,utils:{objectToString:function(e,t){var n,r=[];if(!e||"object"!=typeof e)return e;void 0===t&&(t="\n\t");for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&r.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return r.join(t)},getCookie:function(e){if(!e)return null;var t,n=" "+u.cookie+";";if(0<=(t=n.indexOf(e=" "+e+"=")))return t+=e.length,n=n.substring(t,n.indexOf(";",t));return null},setCookie:function(e,t,n,r="",i=""){var o,a,s;if(!e||!c.site_domain)return!1;a=[o=e+"="+(t=this.objectToString(t,"&")),"path=/","domain="+c.site_domain];if(n){(s=new Date).setTime(s.getTime()+1e3*n);s=s.toGMTString();a.push("expires="+s)}r&&a.push("secure");if(i){"none"===i.toLowerCase()&&a.push("secure");a.push("SameSite="+i)}if(o.length<4e3)return u.cookie=a.join("; "),t===this.getCookie(e);return!1},getSubCookies:function(e){var t,n,r,i,o={};if(!e)return null;if(0===(t=e.split("&")).length)return null;for(n=0,r=t.length;n<r;n++){(i=t[n].split("=")).push("");o[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return o},removeCookie:function(e){return this.setCookie(e,{},0)},pluginConfig:function(e,t,n,r){var i,o=0;if(!t||!t[n])return!1;for(i=0;i<r.length;i++)if(void 0!==t[n][r[i]]){e[r[i]]=t[n][r[i]];o++}return 0<o}},init:function(e){var t,n,r=["beacon_url","site_domain","user_ip","beacon_callback"];e=e||{};for(t=0;t<r.length;t++)void 0!==e[r[t]]&&(c[r[t]]=e[r[t]]);void 0!==e.log&&(this.log=e.log);this.log||(this.log=function(){});for(n in this.plugins)if(this.plugins.hasOwnProperty(n))if(e[n]&&e[n].hasOwnProperty("enabled")&&!1===e[n].enabled)c.disabled_plugins[n]=1;else{c.disabled_plugins[n]&&delete c.disabled_plugins[n];"function"==typeof this.plugins[n].init&&this.plugins[n].init(e)}if(c.handlers_attached)return this;c.onloadfired||void 0!==e.autorun&&!1===e.autorun||(u.readyState&&"complete"===u.readyState?this.setImmediate(BOOMR.page_ready,null,null,BOOMR):s.onpagehide||null===s.onpagehide?c.addListener(s,"pageshow",BOOMR.page_ready):c.addListener(s,"load",BOOMR.page_ready));c.addListener(s,"DOMContentLoaded",function(){c.fireEvent("dom_loaded")});function i(){c.fireEvent("visibility_changed")}u.webkitVisibilityState?c.addListener(u,"webkitvisibilitychange",i):u.msVisibilityState?c.addListener(u,"msvisibilitychange",i):u.visibilityState&&c.addListener(u,"visibilitychange",i);c.addListener(u,"mouseup",c.onclick_handler);s.onpagehide||null===s.onpagehide||c.addListener(s,"unload",function(){BOOMR.window=s=null});c.handlers_attached=!0;return this},page_ready:function(){if(c.onloadfired)return this;c.fireEvent("page_ready");c.onloadfired=!0;return this},setImmediate:function(e,t,n,r){var i=function(){e.call(r||null,t,n||{});i=null};s.setImmediate?s.setImmediate(i):s.msSetImmediate?s.msSetImmediate(i):s.webkitSetImmediate?s.webkitSetImmediate(i):s.mozSetImmediate?s.mozSetImmediate(i):setTimeout(i,10)},subscribe:function(e,t,n,r){var i,o,a;if(!c.events.hasOwnProperty(e))return this;a=c.events[e];for(i=0;i<a.length;i++)if((o=a[i])[0]===t&&o[1]===n&&o[2]===r)return this;a.push([t,n||{},r||null]);"page_ready"===e&&c.onloadfired&&this.setImmediate(t,null,n,r);if("page_unload"===e){e=function(e){t&&t.call(r,e||s.event,n)};s.onpagehide||null===s.onpagehide?c.addListener(s,"pagehide",e):c.addListener(s,"unload",e);c.addListener(s,"beforeunload",e)}return this},addVar:function(e,t){if("string"==typeof e)c.vars[e]=t;else if("object"==typeof e){var n,r=e;for(n in r)r.hasOwnProperty(n)&&(c.vars[n]=r[n])}return this},removeVar:function(e){var t,n;if(!arguments.length)return this;n=1===arguments.length&&"[object Array]"===Object.prototype.toString.apply(e)?e:arguments;for(t=0;t<n.length;t++)c.vars.hasOwnProperty(n[t])&&delete c.vars[n[t]];return this},sendBeacon:function(){var e,t,n=0;for(e in this.plugins)if(this.plugins.hasOwnProperty(e)&&!c.disabled_plugins[e]&&!this.plugins[e].is_complete())return this;c.vars.v=BOOMR.version;c.vars.u="nmit-"+u.URL.replace(/#.*/,"");s!==window&&(c.vars.if="");var r=s.performance||s.msPerformance||s.webkitPerformance||s.mozPerformance;if(r&&r.timing){r=r.timing;r&&BOOMR.addVar("nt_dns",r.domainLookupEnd-r.domainLookupStart);BOOMR.addVar("nt_red",r.redirectEnd-r.redirectStart);BOOMR.addVar("nt_plt",r.domInteractive-r.domLoading);BOOMR.addVar("nt_render",r.domComplete-r.domLoading);BOOMR.addVar("nt_req",r.responseStart-r.requestStart);BOOMR.addVar("nt_res",r.responseEnd-r.responseStart);BOOMR.addVar("nt_tcp",r.connectEnd-r.connectStart)}c.fireEvent("before_beacon",c.vars);BOOMR.removeVar("rt.bstart","rt.end","rt.tstart","v");if("function"==typeof c.beacon_callback){t={};for(e in c.vars)if(c.vars.hasOwnProperty(e)){n++;t[encodeURIComponent(e)]=void 0===c.vars[e]||null===c.vars[e]?"":"object"!=typeof c.vars[e]?encodeURIComponent(c.vars[e]):c.vars[e]}}else{t=[];for(e in c.vars)if(c.vars.hasOwnProperty(e)){n++;t.push(encodeURIComponent(e)+"="+(void 0===c.vars[e]||null===c.vars[e]?"":encodeURIComponent(c.vars[e])))}}if(n)if("function"==typeof c.beacon_callback)c.beacon_callback(t);else{t=c.beacon_url+(-1<c.beacon_url.indexOf("?")?"&":"?")+t.join("&");BOOMR.debug("Sending url: "+t.replace(/&/g,"\n\t"));(new Image).src=t}return this}};delete BOOMR_start;function n(n){return function(e,t){this.log(e,n,"boomerang"+(t?"."+t:""));return this}}e.debug=n("debug");e.info=n("info");e.warn=n("warn");e.error=n("error");s.YAHOO&&s.YAHOO.widget&&s.YAHOO.widget.Logger?e.log=s.YAHOO.log:s.Y&&s.Y.log?e.log=s.Y.log:"object"==typeof console&&void 0!==console.log&&(e.log=function(e,t,n){});for(t in e)e.hasOwnProperty(t)&&(BOOMR[t]=e[t]);BOOMR.plugins=BOOMR.plugins||{}}}(window);!function(r){var s,i=r.document;(BOOMR=BOOMR||{}).plugins=BOOMR.plugins||{};s={initialized:!1,complete:!1,timers:{},cookie:"RT",cookie_exp:600,strict_referrer:!0,navigationType:0,navigationStart:void 0,responseStart:void 0,t_start:void 0,t_fb_approx:void 0,r:void 0,r2:void 0,setCookie:function(e,t){var n,r=(new Date).getTime();if(!this.cookie)return this;n=BOOMR.utils.getSubCookies(BOOMR.utils.getCookie(this.cookie))||{};e&&(n[e]=r);n.r=i.URL.replace(/#.*/,"");"cl"===e&&(t?n.nu=t:n.nu&&delete n.nu);!1===t&&delete n.nu;BOOMR.debug("Setting cookie "+BOOMR.utils.objectToString(n),"rt");if(!BOOMR.utils.setCookie(this.cookie,n,this.cookie_exp,this.secure,this.sameSite))return BOOMR.error("cannot set start cookie","rt"),this;if(50<(e=(new Date).getTime())-r){BOOMR.utils.removeCookie(this.cookie);BOOMR.error("took more than 50ms to set cookie... aborting: "+r+" -> "+e,"rt")}return this},initFromCookie:function(){var e;if(this.cookie&&(e=BOOMR.utils.getSubCookies(BOOMR.utils.getCookie(this.cookie)))){e.s=Math.max(+e.ul||0,+e.cl||0);BOOMR.debug("Read from cookie "+BOOMR.utils.objectToString(e),"rt");if(e.s&&e.r){this.r=e.r;if(!this.strict_referrer||this.r===this.r2||e.s===+e.cl&&e.nu===i.URL.replace(/#.*/,"")){this.t_start=e.s;+e.hd>e.s&&(this.t_fb_approx=parseInt(e.hd,10))}else this.t_start=this.t_fb_approx=void 0}}},checkPreRender:function(){if(!(i.webkitVisibilityState&&"prerender"===i.webkitVisibilityState||i.msVisibilityState&&3===i.msVisibilityState))return!1;BOOMR.plugins.RT.startTimer("t_load",this.navigationStart);BOOMR.plugins.RT.endTimer("t_load");BOOMR.plugins.RT.startTimer("t_prerender",this.navigationStart);BOOMR.plugins.RT.startTimer("t_postrender");BOOMR.subscribe("visibility_changed",BOOMR.plugins.RT.done,null,BOOMR.plugins.RT);return!0},initNavTiming:function(){var e,t,n;if(!this.navigationStart){(t=r.performance||r.msPerformance||r.webkitPerformance||r.mozPerformance)&&t.navigation&&(this.navigationType=t.navigation.type);if(t&&t.timing)e=t.timing;else if(r.chrome&&r.chrome.csi&&r.chrome.csi().startE){e={navigationStart:r.chrome.csi().startE};n="csi"}else if(r.gtbExternal&&r.gtbExternal.startE()){e={navigationStart:r.gtbExternal.startE()};n="gtb"}if(e){BOOMR.addVar("rt.start",n||"navigation");this.navigationStart=e.navigationStart||e.fetchStart||void 0;this.responseStart=e.responseStart||void 0;navigator.userAgent.match(/Firefox\/[78]\./)&&(this.navigationStart=e.unloadEventStart||e.fetchStart||void 0)}else BOOMR.warn("This browser doesn't support the WebTiming API","rt")}},page_unload:function(e){BOOMR.debug("Unload called with "+BOOMR.utils.objectToString(e),"rt");this.setCookie("beforeunload"===e.type?"ul":"hd")},onclick:function(e){if(e){BOOMR.debug("Click called with "+e.nodeName,"rt");for(;e&&"A"!==e.nodeName.toUpperCase();)e=e.parentNode;if(e&&"A"===e.nodeName.toUpperCase()){BOOMR.debug("passing through","rt");this.setCookie("cl",e.href)}}},domloaded:function(){BOOMR.plugins.RT.endTimer("t_domloaded")}};BOOMR.plugins.RT={init:function(e){BOOMR.debug("init RT","rt");if(r!==BOOMR.window){r=BOOMR.window;i=r.document}BOOMR.utils.pluginConfig(s,e,"RT",["cookie","cookie_exp","strict_referrer","secure","sameSite"]);s.initFromCookie();if(s.initialized)return this;s.complete=!1;s.timers={};BOOMR.subscribe("page_ready",this.done,null,this);BOOMR.subscribe("dom_loaded",s.domloaded,null,s);BOOMR.subscribe("page_unload",s.page_unload,null,s);BOOMR.subscribe("click",s.onclick,null,s);BOOMR.t_start;s.r=s.r2=i.referrer.replace(/#.*/,"");s.initialized=!0;return this},startTimer:function(e,t){if(e){"t_page"===e&&this.endTimer("t_resp",t);s.timers[e]={start:"number"==typeof t?t:(new Date).getTime()};s.complete=!1}return this},endTimer:function(e,t){if(e){s.timers[e]=s.timers[e]||{};void 0===s.timers[e].end&&(s.timers[e].end="number"==typeof t?t:(new Date).getTime())}return this},setTimer:function(e,t){e&&(s.timers[e]={delta:t});return this},done:function(){BOOMR.debug("Called done","rt");var e,t,n,r=(new Date).getTime(),i={t_done:1,t_resp:1,t_page:1},o=0,a={};s.complete=!1;s.initFromCookie();s.initNavTiming();if(s.checkPreRender())return this;if(s.responseStart){this.endTimer("t_resp",s.responseStart);s.timers.t_load?this.setTimer("t_page",s.timers.t_load.end-s.responseStart):this.setTimer("t_page",r-s.responseStart)}else if(s.timers.hasOwnProperty("t_page"))this.endTimer("t_page");else if(s.t_fb_approx){s.timers.hasOwnProperty("impl.t_fb_approx");this.endTimer("t_resp",s.t_fb_approx);this.setTimer("t_page",r-s.t_fb_approx)}if(s.timers.hasOwnProperty("t_postrender")){this.endTimer("t_postrender");this.endTimer("t_prerender")}if(s.navigationStart)e=s.navigationStart;else if(s.t_start&&2!==s.navigationType){e=s.t_start;BOOMR.addVar("rt.start","cookie")}else{BOOMR.addVar("rt.start","none");e=void 0}this.endTimer("t_done",r);BOOMR.removeVar("t_done","t_page","t_resp","r","r2","rt.tstart","rt.bstart","rt.end","t_postrender","t_prerender","t_load","screen_res");BOOMR.addVar("rt.tstart",e);BOOMR.addVar("rt.bstart",BOOMR.t_start);BOOMR.addVar("rt.end",s.timers.t_done.end);for(t in s.timers)if(s.timers.hasOwnProperty(t)){if("number"!=typeof(n=s.timers[t]).delta){"number"!=typeof n.start&&(n.start=e);n.delta=n.end-n.start}if(!isNaN(n.delta)){i.hasOwnProperty(t)?BOOMR.addVar(t,n.delta):a[t]=n.delta;o++}}if(o){BOOMR.addVar("r",s.r);s.r2!==s.r&&BOOMR.addVar("r2",s.r2);BOOMR.addVar("t_resr",a)}s.timers={};s.complete=!0;BOOMR.sendBeacon();return this},is_complete:function(){return s.complete}}}(window);!function(){var t,_;(BOOMR=BOOMR||{}).plugins=BOOMR.plugins||{};(_=[{name:"image-0.png",size:11483,timeout:1400},{name:"image-1.png",size:40658,timeout:1200},{name:"image-2.png",size:164897,timeout:1300},{name:"image-3.png",size:381756,timeout:1500},{name:"image-4.png",size:1234664,timeout:1200},{name:"image-5.png",size:4509613,timeout:1200},{name:"image-6.png",size:9084559,timeout:1200}]).end=_.length;_.start=0;_.l={name:"image-l.gif",size:35,timeout:1e3};t={base_url:"",timeout:15e3,nruns:5,latency_runs:10,user_ip:"",cookie_exp:604800,cookie:"BA",results:[],latencies:[],latency:null,runs_left:0,aborted:!1,complete:!0,running:!1,initialized:!1,ncmp:function(e,t){return e-t},iqr:function(e){var t,n=e.length-1,r=[],i=(e[Math.floor(.25*n)]+e[Math.ceil(.25*n)])/2,o=(e[Math.floor(.75*n)]+e[Math.ceil(.75*n)])/2,a=1.5*(o-i);n++;for(t=0;t<n&&e[t]<o+a;t++)e[t]>i-a&&r.push(e[t]);return r},calc_latency:function(){var e,t,n,r,i=0,o=0,a=this.iqr(this.latencies.sort(this.ncmp)),s=a.length;BOOMR.debug(a,"bw");for(e=1;e<s;e++){i+=a[e];o+=a[e]*a[e]}s--;t=Math.round(i/s);r=(1.96*(n=Math.sqrt(o/s-i*i/(s*s)))/Math.sqrt(s)).toFixed(2);n=n.toFixed(2);s=a.length-1;return{mean:t,median:Math.round((a[Math.floor(s/2)]+a[Math.ceil(s/2)])/2),stddev:n,stderr:r}},calc_bw:function(){for(var e,t,n,r,i,o,a,s,c,u,l,d,h=0,f=[],p=[],m=0,g=0,O=0,b=0,v=[],w=0;w<this.nruns;w++)if(this.results[w]&&this.results[w].r){l=0;for(e=(t=this.results[w].r).length-1;0<=e&&l<3&&t[e];e--)if(null!==t[e].t){h++;l++;d=1e3*_[e].size/t[e].t;f.push(d);d=1e3*_[e].size/(t[e].t-this.latency.mean);p.push(d);t[e].t<this.latency.mean&&v.push(e+"_"+t[e].t)}}BOOMR.debug("got "+h+" readings","bw");BOOMR.debug("bandwidths: "+f,"bw");BOOMR.debug("corrected: "+p,"bw");if(3<f.length){f=this.iqr(f.sort(this.ncmp));p=this.iqr(p.sort(this.ncmp))}else{f=f.sort(this.ncmp);p=p.sort(this.ncmp)}BOOMR.debug("after iqr: "+f,"bw");BOOMR.debug("corrected: "+p,"bw");h=Math.max(f.length,p.length);for(w=0;w<h;w++){if(w<f.length){m+=f[w];g+=Math.pow(f[w],2)}if(w<p.length){O+=p[w];b+=Math.pow(p[w],2)}}h=f.length;n=Math.round(m/h);r=Math.sqrt(g/h-Math.pow(m/h,2));i=Math.round(1.96*r/Math.sqrt(h));r=Math.round(r);h=f.length-1;o=Math.round((f[Math.floor(h/2)]+f[Math.ceil(h/2)])/2);h=p.length;a=Math.round(O/h);c=(1.96*(s=Math.sqrt(b/h-Math.pow(O/h,2)))/Math.sqrt(h)).toFixed(2);s=s.toFixed(2);h=p.length-1;u=Math.round((p[Math.floor(h/2)]+p[Math.ceil(h/2)])/2);BOOMR.debug("amean: "+n+", median: "+o,"bw");BOOMR.debug("corrected amean: "+a+", median: "+u,"bw");return{mean:n,stddev:r,stderr:i,median:o,mean_corrected:a,stddev_corrected:s,stderr_corrected:c,median_corrected:u,debug_info:v}},defer:function(e){var t=this;return setTimeout(function(){e.call(t);t=null},10)},load_img:function(e,t,n){var r=this.base_url+_[e].name+"?t="+(new Date).getTime()+Math.random(),i=0,o=0,a=new Image,s=this;a.onload=function(){a.onload=a.onerror=null;a=null;clearTimeout(i);n&&n.call(s,e,o,t,!0);s=n=null};a.onerror=function(){a.onload=a.onerror=null;a=null;clearTimeout(i);n&&n.call(s,e,o,t,!1);s=n=null};i=setTimeout(function(){n&&n.call(s,e,o,t,null)},_[e].timeout+Math.min(400,this.latency?this.latency.mean:400));o=(new Date).getTime();a.src=r},lat_loaded:function(e,t,n,r){if(n===this.latency_runs+1){if(null!==r){n=(new Date).getTime()-t;this.latencies.push(n)}0===this.latency_runs&&(this.latency=this.calc_latency());this.defer(this.iterate)}},img_loaded:function(e,t,n,r){if(n===this.runs_left+1&&!this.results[this.nruns-n].r[e]){if(null===r)return this.results[this.nruns-n].r[e+1]={t:null,state:null,run:n},void 0;t={start:t,end:(new Date).getTime(),t:null,state:r,run:n};r&&(t.t=t.end-t.start);this.results[this.nruns-n].r[e]=t;if(e>=_.end-1||void 0!==this.results[this.nruns-n].r[e+1]){BOOMR.debug(this.results[this.nruns-n],"bw");n===this.nruns&&(_.start=e);this.defer(this.iterate)}else this.load_img(e+1,n,this.img_loaded)}},finish:function(){this.latency||(this.latency=this.calc_latency());var e=this.calc_bw(),t={bw:e.median_corrected,bw_err:parseFloat(e.stderr_corrected,10),lat:this.latency.mean,lat_err:parseFloat(this.latency.stderr,10),bw_time:Math.round((new Date).getTime()/1e3)};BOOMR.addVar(t);0<e.debug_info.length&&BOOMR.addVar("bw_debug",e.debug_info.join(","));!isNaN(t.bw)&&0<t.bw&&BOOMR.utils.setCookie(this.cookie,{ba:Math.round(t.bw),be:t.bw_err,l:t.lat,le:t.lat_err,ip:this.user_ip,t:t.bw_time},this.user_ip?this.cookie_exp:0);this.complete=!0;BOOMR.sendBeacon();this.running=!1},iterate:function(){if(this.aborted)return!1;if(this.runs_left)if(this.latency_runs)this.load_img("l",this.latency_runs--,this.lat_loaded);else{this.results.push({r:[]});this.load_img(_.start,this.runs_left--,this.img_loaded)}else this.finish()},setVarsFromCookie:function(e){var t=parseInt(e.ba,10),n=parseFloat(e.be,10),r=parseInt(e.l,10)||0,i=parseFloat(e.le,10)||0,o=e.ip.replace(/\.\d+$/,"0"),e=parseInt(e.t,10),a=this.user_ip.replace(/\.\d+$/,"0"),s=Math.round((new Date).getTime()/1e3);if(o===a&&e>=s-this.cookie_exp&&0<t){this.complete=!0;BOOMR.addVar({bw:t,lat:r,bw_err:n,lat_err:i});return!0}return!1}};BOOMR.plugins.BW={init:function(e){if(t.initialized)return this;BOOMR.utils.pluginConfig(t,e,"BW",["base_url","timeout","nruns","cookie","cookie_exp"]);e&&e.user_ip&&(t.user_ip=e.user_ip);if(!t.base_url)return this;_.start=0;t.runs_left=t.nruns;t.latency_runs=10;t.results=[];t.latencies=[];t.latency=null;t.complete=!1;t.aborted=!1;BOOMR.removeVar("ba","ba_err","lat","lat_err");if(!(e=BOOMR.utils.getSubCookies(BOOMR.utils.getCookie(t.cookie)))||!e.ba||!t.setVarsFromCookie(e)){BOOMR.subscribe("page_ready",this.run,null,this);BOOMR.subscribe("page_unload",this.skip,null,this)}t.initialized=!0;return this},run:function(){if(t.running||t.complete)return this;if("https:"===BOOMR.window.location.protocol){BOOMR.info("HTTPS detected, skipping bandwidth test","bw");t.complete=!0;BOOMR.sendBeacon();return this}t.running=!0;setTimeout(this.abort,t.timeout);t.defer(t.iterate);return this},abort:function(){t.aborted=!0;t.running&&t.finish();return this},skip:function(){if(!t.complete){t.complete=!0;BOOMR.sendBeacon()}return this},is_complete:function(){return t.complete}}}();!function(e,t){"use strict";"function"==typeof define&&define.amd?define("stackframe",[],t):"object"==typeof exports?module.exports=t():e.StackFrame=t()}(this,function(){"use strict";function n(e){return!isNaN(parseFloat(e))&&isFinite(e)}function r(e){return e.charAt(0).toUpperCase()+e.substring(1)}function e(e){return function(){return this[e]}}var t=["isConstructor","isEval","isNative","isToplevel"],i=["columnNumber","lineNumber"],o=["fileName","functionName","source"],a=t.concat(i,o,["args"]);function s(e){if(e instanceof Object)for(var t=0;t<a.length;t++)e.hasOwnProperty(a[t])&&void 0!==e[a[t]]&&this["set"+r(a[t])](e[a[t]])}s.prototype={getArgs:function(){return this.args},setArgs:function(e){if("[object Array]"!==Object.prototype.toString.call(e))throw new TypeError("Args must be an Array");this.args=e},getEvalOrigin:function(){return this.evalOrigin},setEvalOrigin:function(e){if(e instanceof s)this.evalOrigin=e;else{if(!(e instanceof Object))throw new TypeError("Eval Origin must be an Object or StackFrame");this.evalOrigin=new s(e)}},toString:function(){return(this.getFunctionName()||"{anonymous}")+("("+(this.getArgs()||[]).join(",")+")")+(this.getFileName()?"@"+this.getFileName():"")+(n(this.getLineNumber())?":"+this.getLineNumber():"")+(n(this.getColumnNumber())?":"+this.getColumnNumber():"")}};s.fromString=function(e){var t,n,r,i=e.indexOf("("),o=e.lastIndexOf(")"),a=e.substring(0,i),i=e.substring(i+1,o).split(","),e=e.substring(o+1);0===e.indexOf("@")&&(t=(o=/@(.+?)(?::(\d+))?(?::(\d+))?$/.exec(e,""))[1],n=o[2],r=o[3]);return new s({functionName:a,args:i||void 0,fileName:t,lineNumber:n||void 0,columnNumber:r||void 0})};for(var c=0;c<t.length;c++){s.prototype["get"+r(t[c])]=e(t[c]);s.prototype["set"+r(t[c])]=function(t){return function(e){this[t]=Boolean(e)}}(t[c])}for(var u=0;u<i.length;u++){s.prototype["get"+r(i[u])]=e(i[u]);s.prototype["set"+r(i[u])]=function(t){return function(e){if(!n(e))throw new TypeError(t+" must be a Number");this[t]=Number(e)}}(i[u])}for(var l=0;l<o.length;l++){s.prototype["get"+r(o[l])]=e(o[l]);s.prototype["set"+r(o[l])]=function(t){return function(e){this[t]=String(e)}}(o[l])}return s});!function(e,t){"use strict";"function"==typeof define&&define.amd?define("error-stack-parser",["stackframe"],t):"object"==typeof exports?module.exports=t(require("stackframe")):e.ErrorStackParser=t(e.StackFrame)}(this,function(s){"use strict";var t=/(^|@)\S+\:\d+/,n=/^\s*at .*(\S+\:\d+|\(native\))/m,r=/^(eval@)?(\[native code\])?$/;return{parse:function(e){if(void 0!==e.stacktrace||void 0!==e["opera#sourceloc"])return this.parseOpera(e);if(e.stack&&e.stack.match(n))return this.parseV8OrIE(e);if(e.stack)return this.parseFFOrSafari(e);throw new Error("Cannot parse given Error object")},extractLocation:function(e){if(-1===e.indexOf(":"))return[e];e=/(.+?)(?:\:(\d+))?(?:\:(\d+))?$/.exec(e.replace(/[\(\)]/g,""));return[e[1],e[2]||void 0,e[3]||void 0]},parseV8OrIE:function(e){return e.stack.split("\n").filter(function(e){return!!e.match(n)},this).map(function(e){var t=(e=-1<e.indexOf("(eval ")?e.replace(/eval code/g,"eval").replace(/(\(eval at [^\()]*)|(\)\,.*$)/g,""):e).replace(/^\s+/,"").replace(/\(eval code/g,"(").split(/\s+/).slice(1),n=this.extractLocation(t.pop()),t=t.join(" ")||void 0,r=-1<["eval","<anonymous>"].indexOf(n[0])?void 0:n[0];return new s({functionName:t,fileName:r,lineNumber:n[1],columnNumber:n[2],source:e})},this)},parseFFOrSafari:function(e){return e.stack.split("\n").filter(function(e){return!e.match(r)},this).map(function(e){var t,n;return-1===(e=-1<e.indexOf(" > eval")?e.replace(/ line (\d+)(?: > eval line \d+)* > eval\:\d+\:\d+/g,":$1"):e).indexOf("@")&&-1===e.indexOf(":")?new s({functionName:e}):(t=(t=e.match(n=/((.*".+"[^@]*)?[^@]*)(?:@)/))&&t[1]?t[1]:void 0,n=this.extractLocation(e.replace(n,"")),new s({functionName:t,fileName:n[0],lineNumber:n[1],columnNumber:n[2],source:e}))},this)},parseOpera:function(e){return!e.stacktrace||-1<e.message.indexOf("\n")&&e.message.split("\n").length>e.stacktrace.split("\n").length?this.parseOpera9(e):e.stack?this.parseOpera11(e):this.parseOpera10(e)},parseOpera9:function(e){for(var t=/Line (\d+).*script (?:in )?(\S+)/i,n=e.message.split("\n"),r=[],i=2,o=n.length;i<o;i+=2){var a=t.exec(n[i]);a&&r.push(new s({fileName:a[2],lineNumber:a[1],source:n[i]}))}return r},parseOpera10:function(e){for(var t=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,n=e.stacktrace.split("\n"),r=[],i=0,o=n.length;i<o;i+=2){var a=t.exec(n[i]);a&&r.push(new s({functionName:a[3]||void 0,fileName:a[2],lineNumber:a[1],source:n[i]}))}return r},parseOpera11:function(e){return e.stack.split("\n").filter(function(e){return!!e.match(t)&&!e.match(/^Error created at/)},this).map(function(e){var t,n=e.split("@"),r=this.extractLocation(n.pop()),n=n.shift()||"",i=n.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^\)]*\)/g,"")||void 0,n=void 0===(t=n.match(/\(([^\)]*)\)/)?n.replace(/^[^\(]+\(([^\)]*)\)$/,"$1"):t)||"[arguments not available]"===t?void 0:t.split(",");return new s({functionName:i,args:n,fileName:r[0],lineNumber:r[1],columnNumber:r[2],source:e})},this)}}});!function(e,t){"use strict";"function"==typeof define&&define.amd?define("stacktrace-gps",["source-map","stackframe"],t):"object"==typeof exports?module.exports=t(require("source-map/lib/source-map-consumer"),require("stackframe")):e.StackTraceGPS=t(e.SourceMap||e.sourceMap,e.StackFrame)}(this,function(o,u){"use strict";function t(r){return new Promise(function(e,t){var n=new XMLHttpRequest;n.open("get",r);n.onerror=t;n.onreadystatechange=function(){4===n.readyState&&(200<=n.status&&n.status<300||"file://"===r.substr(0,7)&&n.responseText?e(n.responseText):t(new Error("HTTP status: "+n.status+" retrieving "+r)))};n.send()})}function n(e){if("undefined"!=typeof window&&window.atob)return window.atob(e);throw new Error("You must supply a polyfill for window.atob in this environment")}function a(e){if("object"!=typeof e)throw new TypeError("Given StackFrame is not an object");if("string"!=typeof e.fileName)throw new TypeError("Given file name is not a String");if("number"!=typeof e.lineNumber||e.lineNumber%1!=0||e.lineNumber<1)throw new TypeError("Given line number must be a positive integer");if("number"!=typeof e.columnNumber||e.columnNumber%1!=0||e.columnNumber<0)throw new TypeError("Given column number must be a non-negative integer")}return function e(i){if(!(this instanceof e))return new e(i);i=i||{};this.sourceCache=i.sourceCache||{};this.sourceMapConsumerCache=i.sourceMapConsumerCache||{};this.ajax=i.ajax||t;this._atob=i.atob||n;this._get=function(r){return new Promise(function(e,t){var n="data:"===r.substr(0,5);if(this.sourceCache[r])e(this.sourceCache[r]);else if(i.offline&&!n)t(new Error("Cannot make network requests in offline mode"));else if(n){n=r.match(/^data:application\/json;([\w=:"-]+;)*base64,/);if(n){n=n[0].length,n=r.substr(n),n=this._atob(n);e(this.sourceCache[r]=n)}else t(new Error("The encoding of the inline sourcemap is not supported"))}else{n=this.ajax(r,{method:"get"});(this.sourceCache[r]=n).then(e,t)}}.bind(this))};this._getSourceMapConsumer=function(r,i){return new Promise(function(e,t){if(this.sourceMapConsumerCache[r])e(this.sourceMapConsumerCache[r]);else{var n=new Promise(function(t,e){return this._get(r).then(function(e){void 0===(e="string"==typeof e?function(e){if("undefined"!=typeof JSON&&JSON.parse)return JSON.parse(e);throw new Error("You must supply a polyfill for JSON.parse in this environment")}(e.replace(/^\)\]\}'/,"")):e).sourceRoot&&(e.sourceRoot=i);t(new o.SourceMapConsumer(e))},e)}.bind(this));e(this.sourceMapConsumerCache[r]=n)}}.bind(this))};this.pinpoint=function(t){return new Promise(function(n,e){this.getMappedLocation(t).then(function(e){function t(){n(e)}this.findFunctionName(e).then(n,t).catch(t)}.bind(this),e)}.bind(this))};this.findFunctionName=function(i){return new Promise(function(r,e){a(i);this._get(i.fileName).then(function(e){var t=i.lineNumber,n=i.columnNumber,e=function(e,t){for(var n=[/['"]?([$_A-Za-z][$_A-Za-z0-9]*)['"]?\s*[:=]\s*function\b/,/function\s+([^('"`]*?)\s*\(([^)]*)\)/,/['"]?([$_A-Za-z][$_A-Za-z0-9]*)['"]?\s*[:=]\s*(?:eval|new Function)\b/,/\b(?!(?:if|for|switch|while|with|catch)\b)(?:(?:static)\s+)?(\S+)\s*\(.*?\)\s*\{/,/['"]?([$_A-Za-z][$_A-Za-z0-9]*)['"]?\s*[:=]\s*\(.*?\)\s*=>/],r=e.split("\n"),i="",o=Math.min(t,20),a=0;a<o;++a){var s=r[t-a-1],c=s.indexOf("//");if(s=0<=c?s.substr(0,c):s)for(var i=s+i,u=n.length,l=0;l<u;l++){var d=n[l].exec(i);if(d&&d[1])return d[1]}}}(e,t);r(e?new u({functionName:e,args:i.args,fileName:i.fileName,lineNumber:t,columnNumber:n}):i)},e).catch(e)}.bind(this))};this.getMappedLocation=function(c){return new Promise(function(r,e){if("function"!=typeof Object.defineProperty||"function"!=typeof Object.create)throw new Error("Unable to consume source maps in older browsers");a(c);var s=this.sourceCache,i=c.fileName;this._get(i).then(function(e){var e=function(e){for(var t,n,r=/\/\/[#@] ?sourceMappingURL=([^\s'"]+)\s*$/gm;n=r.exec(e);)t=n[1];if(t)return t;throw new Error("sourceMappingURL not found")}(e),t="data:"===e.substr(0,5),n=i.substring(0,i.lastIndexOf("/")+1);"/"===e[0]||t||/^https?:\/\/|^\/\//i.test(e)||(e=n+e);return this._getSourceMapConsumer(e,n).then(function(e){return(i=c,o=e,a=s,new Promise(function(e,t){var n=o.originalPositionFor({line:i.lineNumber,column:i.columnNumber});if(n.source){var r=o.sourceContentFor(n.source);r&&(a[n.source]=r);e(new u({functionName:n.name||i.functionName,args:i.args,fileName:n.source,lineNumber:n.line,columnNumber:n.column}))}else t(new Error("Could not get original source for given stackframe and source map"))})).then(r).catch(function(){r(c)});var i,o,a})}.bind(this),e).catch(e)}.bind(this))}}});!function(e,t){"use strict";"function"==typeof define&&define.amd?define("stacktrace",["error-stack-parser","stack-generator","stacktrace-gps"],t):"object"==typeof exports?module.exports=t(require("error-stack-parser"),require("stack-generator"),require("stacktrace-gps")):e.StackTrace=t(e.ErrorStackParser,e.StackGenerator,e.StackTraceGPS)}(this,function(o,n,e){function r(){try{throw new Error}catch(e){return e}}var a={filter:function(e){return-1===(e.functionName||"").indexOf("StackTrace$$")&&-1===(e.functionName||"").indexOf("ErrorStackParser$$")&&-1===(e.functionName||"").indexOf("StackTraceGPS$$")&&-1===(e.functionName||"").indexOf("StackGenerator$$")},sourceCache:{}};function s(e,t){var n={};[e,t].forEach(function(e){for(var t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n});return n}function c(e){return e.stack||e["opera#sourceloc"]}function u(e,t){return"function"==typeof t?e.filter(t):e}return{get:function(e){var t=r();return c(t)?this.fromError(t,e):this.generateArtificially(e)},getSync:function(e){e=s(a,e);var t=r();return u(c(t)?o.parse(t):n.backtrace(e),e.filter)},fromError:function(n,r){r=s(a,r);var i=new e(r);return new Promise(function(e){var t=u(o.parse(n),r.filter);e(Promise.all(t.map(function(n){return new Promise(function(e){function t(){e(n)}i.pinpoint(n).then(e,t).catch(t)})})))}.bind(this))},generateArtificially:function(e){e=s(a,e);var t=n.backtrace(e);"function"==typeof e.filter&&(t=t.filter(e.filter));return Promise.resolve(t)},instrument:function(e,t,n,r){if("function"!=typeof e)throw new Error("Cannot instrument non-function object");if("function"==typeof e.__stacktraceOriginalFn)return e;var i=function(){try{this.get().then(t,n).catch(n);return e.apply(r||this,arguments)}catch(e){c(e)&&this.fromError(e).then(t,n).catch(n);throw e}}.bind(this);i.__stacktraceOriginalFn=e;return i},deinstrument:function(e){if("function"!=typeof e)throw new Error("Cannot de-instrument non-function object");return"function"==typeof e.__stacktraceOriginalFn?e.__stacktraceOriginalFn:e},report:function(a,s,c,u){return new Promise(function(e,t){var n=new XMLHttpRequest;n.onerror=t;n.onreadystatechange=function(){4===n.readyState&&(200<=n.status&&n.status<400?e(n.responseText):t(new Error("POST to "+s+" failed with status: "+n.status)))};n.open("post",s);n.setRequestHeader("Content-Type","application/json");if(u&&"object"==typeof u.headers){var r,i=u.headers;for(r in i)i.hasOwnProperty(r)&&n.setRequestHeader(r,i[r])}var o={stack:a};null!=c&&(o.message=c);n.send(JSON.stringify(o))})}}});var nLogger={addCustomObj:function(e){this.nLoggerCustomObj=e||null},init:function(e){this.orig=encodeURIComponent(e.origin||document.location.href);this.nAgt=navigator.userAgent;this.nVer=navigator.appVersion;this.browserName=navigator.appName;this.OSName="unknown";this.OSVersion="unknown";var t,n=[{s:"Windows 3.11",r:/Win16/},{s:"Windows 95",r:/(Windows 95|Win95|Windows_95)/},{s:"Windows ME",r:/(Win 9x 4.90|Windows ME)/},{s:"Windows 98",r:/(Windows 98|Win98)/},{s:"Windows CE",r:/Windows CE/},{s:"Windows 2000",r:/(Windows NT 5.0|Windows 2000)/},{s:"Windows XP",r:/(Windows NT 5.1|Windows XP)/},{s:"Windows Server 2003",r:/Windows NT 5.2/},{s:"Windows Vista",r:/Windows NT 6.0/},{s:"Windows 7",r:/(Windows 7|Windows NT 6.1)/},{s:"Windows 8.1",r:/(Windows 8.1|Windows NT 6.3)/},{s:"Windows 8",r:/(Windows 8|Windows NT 6.2)/},{s:"Windows NT 4.0",r:/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/},{s:"Windows ME",r:/Windows ME/},{s:"Android",r:/Android/},{s:"Open BSD",r:/OpenBSD/},{s:"Sun OS",r:/SunOS/},{s:"Linux",r:/(Linux|X11)/},{s:"iOS",r:/(iPhone|iPad|iPod)/},{s:"Mac OS X",r:/Mac OS X/},{s:"Mac OS",r:/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/},{s:"QNX",r:/QNX/},{s:"UNIX",r:/UNIX/},{s:"BeOS",r:/BeOS/},{s:"OS/2",r:/OS\/2/},{s:"Search Bot",r:/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask Jeeves\/Teoma|ia_archiver)/}];for(t in n){var r=n[t];if(r.r.test(this.nAgt)){this.OSName=r.s;break}}if(/Windows/.test(this.OSName)){this.OSVersion=/Windows (.*)/.exec(this.OSName)[1];this.OSName="Windows"}switch(this.OSName){case"Mac OS X":this.OSVersion=/Mac OS X (10[\.\_\d]+)/.exec(this.nAgt)[1];break;case"Android":this.OSVersion=/Android ([\.\_\d]+)/.exec(this.nAgt)[1];break;case"iOS":this.OSVersion=/OS (\d+)_(\d+)_?(\d+)?/.exec(this.nVer);this.OSVersion=this.OSVersion[1]+"."+this.OSVersion[2]+"."+(0|this.OSVersion[3])}if(-1!=(o=this.nAgt.indexOf("Opera"))){this.browserName="Opera";this.browserVer=this.nAgt.substring(o+6);-1!=(o=this.nAgt.indexOf("Version"))&&(this.browserVer=this.nAgt.substring(o+8))}else if(this.nAgt.match(/(?:MSIE |Trident\/.*; rv:)(\d+)/)){this.browserName="Microsoft IE";var i=this.nAgt.match(/(?:MSIE |Trident\/.*; rv:)(\d+)/);this.browserVer=parseInt(i[1])}else if(-1!=(o=this.nAgt.indexOf("Chrome"))){this.browserName="Chrome";i=this.nAgt.substring(o+7);this.browserVer=i.match(/\d+.\d+.\d+/)[0]}else if(-1!=(o=this.nAgt.indexOf("Safari"))){this.browserName="Safari";this.browserVer=this.nAgt.substring(o+7);-1!=(o=this.nAgt.indexOf("Version"))&&(this.browserVer=this.nAgt.substring(o+8))}else if(-1!=(o=this.nAgt.indexOf("Firefox"))){this.browserName="Firefox";this.browserVer=this.nAgt.substring(o+8)}this.screenRes=screen.width+"x"+screen.height;this.width=screen.width;this.height=screen.height;this.appId=e.appId||0;this.ip=e.userIP;this.tag=e.tag?e.tag+"-nmit":"";this.tenantId=e.tenantId;this.deviceType=e.deviceType||"SERVER";var i=e.pageUID,o=e.webvitals,a=!!("Chrome"===this.browserName&&o&&o.eventName&&o.pluginBaseUrl&&o.beaconUrl);i?i+=Date.now().toString().slice(-9):a&&(i=this.generateUUID(this.appId,this.ip));if(s=e.nLogger){this.eReport=!0;this.errorURL=s.beaconUrl;this.maxErs=s.maxErrors||10;this.errCount=1;this.eventname=s.eventName;this.errorDetect()}if(s=e.boomerang){this.bReport=!0;this.boomURL=s.beaconUrl;this.imageURL=s.imageURL;this.logBW=!(void 0!==s.logBW&&!s.logBW);this.captureRes=!(void 0===e.captureRes||!e.captureRes);this.eventname=s.eventName;this.boomInit(this.boomURL,this.imageURL,this.ip,this.logBW,this.appId,this.captureRes,s.eventName,this.deviceType,this.tenantId,i)}(s=e.heatmap)&&this.heatMapInit(s,this.deviceType,this.tenantId);(s=e.tnm)&&this.tnmInit(e);if(a&&i){var s=this.reportData.bind(this),c={logObj:{appId:this.appId,tenantId:this.tenantId,pageUID:i,eventName:o.eventName,deviceType:o.deviceType},enabled:!0,scriptURL:o.pluginBaseUrl,beaconUrl:o.beaconUrl,callbackFn:s};o.optionalWebVitals&&(c.optionalWebVitals=o.optionalWebVitals);this.initFlow(c,function(){window.logger&&"object"==typeof window.logger.web_vitals&&"function"==typeof window.logger.web_vitals.init&&window.logger.web_vitals.init(c)},"load")}return{pageUID:i}},errorDetect:function(){wrapErrors(captureFault,this.eventname,this.tenantId,this.deviceType)},heatMapReportData:function(t){for(var e=0;e<t.length;e++)nLogger.sendBeacon(t[e]+"&rad="+Math.random(),function(e){return function(){t.splice(e,1)}}(e))},heatMapInit:function(e,t,n){var r={coord:null,screenRes:this.screenRes,appId:this.appId,url:this.orig,tag:this.tag||"",eventName:e.eventName,deviceType:t,tenantId:n};try{var i=JSON.parse(localStorage.getItem("hpData"));i?nLogger.heatMapReportData(i):i=[]}catch(e){}this.on({elem:window,name:"load",func:function(){nLogger.getScript(e.pluginBaseUrl,function(){if("undefined"!=typeof HEATMAP){HEATMAP.init();try{window.setInterval(function(){try{if((r.coord=HEATMAP.get_coord()).length){i.push(e.beaconUrl+"?data="+nLogger.stringify(r));nLogger.heatMapReportData(i)}}catch(e){}},e.interval||5e3)}catch(e){}}})}});this.on({elem:window,name:"beforeunload",func:function(){try{(r.coord=HEATMAP.get_coord()).length&&i.push(e.beaconUrl+"?data="+nLogger.stringify(r));i&&localStorage.setItem("hpData",JSON.stringify(i))}catch(e){}}})},sendStored_AnalyticsData:function(e,t){var n,r;for(r in e)for(var i in e[r])(n=localStorage.getItem(i))&&nLogger.sendBeacon(e[r][i]+"?data="+n,function(e){return function(){t(e)}}(i))},tnmInit:function(e){var t=this;nLogger.getScript(e.tnm.pluginBaseUrl,function(){if(void 0!==window.logger.tnm){window.logger.tnm.init({deviceType:e.tnm.deviceType,eventName:e.tnm.eventName,tagName:e.tag,dataURL:e.tnm.beaconUrl,appId:e.appId,tenantId:e.tenantId});t.on({elem:window,name:"load",func:function(){window.logger.tnm.fn.bind({forms:!0,tagName:e.tag})}})}});this.sendStored_AnalyticsData([{tnmData:e.tnm.beaconUrl}],function(e){localStorage.removeItem(e)})},initFlow:function(e,t,n){this.on({elem:window,name:n||"load",func:function(){nLogger.getScript(e.scriptURL,function(){"function"==typeof t&&t(e)})}})},isWhiteListed:function(e){return!0},boomInit:function(t,e,n,r,i,o,a,s,c,u){0;BOOMR.init({beacon_callback:function(e){e.appId=i;e.tag=nLogger.tag;e.eventName=a;e.tenantId=c;e.deviceType=s;u&&(e.pageUID=u);o&&(e.screen_res=nLogger.screenRes);"none"!=e["rt.start"]&&nLogger.reportData(e,t)},user_ip:n,BW:{enabled:!1,base_url:e,cookie:"HOWTOBA"},autorun:!0,RT:{cookie:"HOWTORT",strict_referrer:!1,cookie_exp:120,secure:!0,sameSite:"None"}})},logError:function(e,t,n,r,i,o,a,s,c,u){""==e&&(e="Unknown");var l,d={},h={file:["\\.logs\\.naukri\\.com/"],message:["Script error\\."]};if(void 0!==t&&this.errCount<=this.maxErs){this.errCount++;"object"==typeof t&&(t=t.join(""));l={source:"browser",appId:this.appId,environment:{os:{name:this.OSName,version:this.OSVersion},browser:{name:this.browserName,version:this.browserVer},display:{width:this.width,height:this.height},app:{version:1}},exceptions:[{tag:this.tag,type:e,message:t,file:n?encodeURIComponent(n):null,line:r||null,catchIdentifier:i||null,screenResolution:this.screenRes,origin:this.orig,tag:this.tag}],eventName:o,tenantId:a,deviceType:s};u&&(l.exceptions[0].stackTrace=u);if(c)u||StackTrace.fromError(c).then(e=>{var t,e=e.map(function(e){return e.toString()}).join("\n"),n=StackFrame.fromString(e);l.exceptions[0].columnNumber=n.columnNumber;l.exceptions[0].file=n.fileName;l.exceptions[0].stackTrace=e;l.exceptions[0].function=n.functionName;l.exceptions[0].line=n.lineNumber;d.file_flag=nLogger.isWhiteListed(l.exceptions[0].file);for(t in h){var r,i=h[t];for(r in i){"file"==t?decodeURIComponent(l.exceptions[0][t]):l.exceptions[0][t];(l.exceptions[0][t]||"").match(i[r])&&(h[t+"_flag"]=!0)}}d.file_flag&&!h.file_flag&&this.reportErrData(l,this.errorURL);this.errors=[]}).catch(e=>{console.log(e)});else{d.file_flag=nLogger.isWhiteListed(l.exceptions[0].file);for(var f in h){var p,m=h[f];for(p in m){"file"==f?decodeURIComponent(l.exceptions[0][f]):l.exceptions[0][f];(l.exceptions[0][f]||"").match(m[p])&&(h[f+"_flag"]=!0)}}d.file_flag&&!h.file_flag&&this.reportErrData(l,this.errorURL);this.errors=[]}}},throwErr:function(e,t){this.eReport&&this.logError(e.name,e.message,null,null,t,this.eventname,this.tenantId,this.deviceType)},mergeCustomObj:function(e){return this.nLoggerCustomObj?Object.assign(e,{nLoggerCustomObject:this.nLoggerCustomObj}):e},reportErrData:function(e,t){e&&t&&nLogger.sendBeacon(t+"?data="+this.stringify(this.mergeCustomObj(e))+"&rad="+Math.random())},reportData:function(e,t){e&&t&&nLogger.sendBeacon(t+"?data="+this.stringify(this.mergeCustomObj(e))+"&rad="+Math.random())},stringify:function(e){return(JSON="undefined"==typeof JSON?{stringify:function(e){var t="";for(key in e)e.hasOwnProperty(key)&&("object"!=typeof e[key]?t+='"'+key+'":"'+e[key]+'",':t+='"'+key+'":'+JSON.stringify(e[key])+",");return"{"+(t=t.replace(/,$/,""))+"}"}}:JSON).stringify(e)},generateUUID:function(e,t){var e=e||"0",n="",r="",i="";try{for(var o=0;o++<10;){var a="xxx4xxyxxx"[o-1],s=16*Math.random()|0;r+="4"===a?a:("x"===a?s:11&s).toString(16)}i=Date.now().toString().slice(-9);n=t||Math.random().toString(16).slice(-10)}catch(e){i=Date.now().toString()}return e+n+i+r},on:function(t){window.addEventListener?t.elem.addEventListener(t.name,function(e){t.func.call(this,e)}):t.elem.attachEvent("on"+t.name,function(){t.func.call(window.event.srcElement,window.event)})},getScript:function(e,t,n){function r(){t();i.parentNode&&n&&i.parentNode.removeChild(i)}var i=document.createElement("script");document.head.appendChild(i);i.readyState?this.on({elem:i,name:"readystatechange",func:function(e){var t=this.readyState;"loaded"!==t&&"complete"!==t||setTimeout(function(){r()},100)}}):this.on({elem:i,name:"load",func:function(){r()}});i.async=!0;i.src=e;return i},beaconCall:function(e,t,n){fetch(e,{method:"GET"}).then(function(e){t(e)})},sendBeacon:function(e,t){this.beaconCall(e,t||function(){},!0)}};function wrapErrors(t){t.__wrapped__||(t.__wrapped__=function(e){try{t.apply(e)}catch(e){throw e}});t.__wrapped__(arguments)}function captureFault(){let t=this;wrapConsole();window.addEventListener("error",function(e){nLogger.logError(e.type,e.message,e.filename,e.lineno,null,t[1],t[2],t[3],e.error)});setInterval(()=>{if(0<console.everything.length){console.everything.map(e=>{nLogger.logError("error",e.value,e.file,e.line,null,t[1],t[2],t[3],null,e.trace)});console.everything=[]}},1e3)}function traceCaller(e){(isNaN(e)||e<0)&&(e=1);e+=1;var t=(new Error).stack,n=t.indexOf("\n",5);d=t.indexOf("\n");for(let e=0;e<2;e++)d=t.indexOf("\n",d+1);for(var r=t.substring(d,t.length);e--;)if((n=t.indexOf("\n",n+1))<0){n=t.lastIndexOf("\n",t.length);break}(b=t.indexOf("\n",n+1))<0&&(b=t.length);n=Math.max(t.lastIndexOf(" ",b),t.lastIndexOf("/",b));b=t.lastIndexOf(":",b);return{fileAndLine:t=t.substring(n+1,b),trace:r}}function wrapConsole(){if(void 0===console.everything){console.everything=[];console.defaultError=console.error.bind(console);console.error=function(){let e=traceCaller(1);var t=e.fileAndLine.split(":"),n=e.trace;console.everything.push({type:"error",datetime:Date().toLocaleString(),value:Array.from(arguments),file:t[0],line:t[1],trace:n});console.defaultError.apply(console,arguments)}}}
