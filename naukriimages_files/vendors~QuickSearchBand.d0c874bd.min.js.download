(this.webpackJsonpapp103=this.webpackJsonpapp103||[]).push([[46],{236:function(e,t,n){"use strict";n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return p}));var a=n(1),r=n(81),s=n(0),i=n.n(s),o=n(272),c=(n(570),["style"]),l=["style"];function u(e){var t=e.style,n=Object(r.a)(e,c);return i.a.createElement("div",Object(a.a)(Object(a.a)({style:Object(a.a)(Object(a.a)({},t),{backgroundColor:"#b3b3b3",borderRadius:"6px"})},n),{},{className:"verticalThumb"}))}function p(e){var t=e.style,n=Object(r.a)(e,l);return i.a.createElement("div",Object(a.a)(Object(a.a)({style:Object(a.a)(Object(a.a)({},t),{width:"6px",right:"2px",bottom:"2px",top:"2px",borderRadius:"6px",backgroundColor:"#e2e2e2"})},n),{},{className:"verticalTrack"}))}function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:253;return{renderView:function(t){return i.a.createElement("div",Object(a.a)(Object(a.a)({},t),{},{style:Object(a.a)(Object(a.a)({},t.style),{},{maxHeight:"".concat(e,"px"),overflowX:"auto",marginBottom:"0px"})}))},renderThumbVertical:u,renderTrackVertical:p,renderTrackHorizontal:function(){return i.a.createElement("div",{style:{display:"none"},className:"track-horizontal"})},renderThumbHorizontal:function(){return i.a.createElement("div",{style:{display:"none"},className:"track-horizontal"})},autoHide:!1,autoHeight:!0,autoHeightMax:e,style:{width:"auto !important"},hideTracksWhenNotNeeded:!0}}var h=o.Scrollbars;t.a=h},278:function(e,t,n){e.exports={cssNamespace:"suggestor-wrapper"}},326:function(e,t,n){"use strict";var a=n(105),r=n(1),s=n(106),i=n(17),o=n(81),c=n(0),l=n.n(c);function u(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Object(c.useRef)(e),a=Object(c.useState)(0),r=Object(i.a)(a,2),s=r[1],o=Object(c.useCallback)((function(e){Object.is(n.current,e)||(n.current=e,s((function(e){return e+1})))}),[]);return t?(n.current=e,[n,function(e){}]):[n,o]}var p=n(18),d=n(24),h=n(25),f=n(568).a,v=n(113),m=n.n(v);function g(e){for(var t=e.length,n=0,a="",r={d:864e5,h:36e5,m:6e4,s:1e3},s=0;s<t;++s)if("d"!==e[s]&&"h"!==e[s]&&"m"!==e[s]&&"s"!==e[s])a+=e[s];else{var i=parseFloat(a);isNaN(i)||(n+=i*(r[e[s]]||1)),a=""}return n}var b,O=function(){function e(t,n){Object(d.a)(this,e),this._localForage=null,this._prefix="session-storage_".concat(n||"","_"),"sessionStorage"===t?this._isSessionStorage=!0:(this._isSessionStorage=!1,this._localForage=m.a.createInstance(t))}return Object(h.a)(e,[{key:"isValidRecord",value:function(e){return!(e&&null!==e.options.expiresOn&&e.options.expiresOn<=Date.now())}},{key:"afterReadProcessing",value:function(){var e=Object(s.a)(Object(a.a)().mark((function e(t,n,r){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=6;break}return e.next=3,this.removeItem(t);case 3:return e.abrupt("return",Promise.resolve(!1));case 6:if(!n){e.next=11;break}return n.state.readCount++,e.next=10,this.writeItem(t,n);case 10:return e.abrupt("return",Promise.resolve(!0));case 11:return e.abrupt("return",Promise.reject(!1));case 12:case"end":return e.stop()}}),e,this)})));return function(t,n,a){return e.apply(this,arguments)}}()},{key:"writeItem",value:function(){var e=Object(s.a)(Object(a.a)().mark((function e(t,n){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null===n.options.expiresOn||n.options.expiresOn>Date.now())){e.next=9;break}if(!this._isSessionStorage){e.next=5;break}window.sessionStorage.setItem("".concat(this._prefix).concat(t),JSON.stringify(n)),e.next=8;break;case 5:if(!this._localForage){e.next=8;break}return e.next=8,this._localForage.setItem(t,n);case 8:return e.abrupt("return",n);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getItem",value:function(){var e=Object(s.a)(Object(a.a)().mark((function e(t){var n,r;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=null,!1,!this._isSessionStorage){e.next=7;break}(r=window.sessionStorage.getItem("".concat(this._prefix).concat(t)))&&(n=JSON.parse(r)),e.next=11;break;case 7:if(!this._localForage){e.next=11;break}return e.next=10,this._localForage.getItem(t);case 10:n=e.sent;case 11:return e.prev=11,e.next=14,this.afterReadProcessing(t,n,this.isValidRecord(n));case 14:if(!e.sent){e.next=17;break}return e.abrupt("return",n);case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(11),!1;case 22:return e.abrupt("return",null);case 23:case"end":return e.stop()}}),e,this,[[11,19]])})));return function(t){return e.apply(this,arguments)}}()},{key:"setItem",value:function(){var e=Object(s.a)(Object(a.a)().mark((function e(t,n){var s,i,o,c=arguments;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=c.length>2&&void 0!==c[2]?c[2]:{},i=c.length>3&&void 0!==c[3]?c[3]:{},o={data:n,options:{expiresOn:"number"===typeof s.expiresOn?s.expiresOn:s.expiresOn?Date.now()+g(s.expiresOn):null},state:Object(r.a)({readCount:0},i)},e.next=5,this.writeItem(t,o);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"removeItem",value:function(){var e=Object(s.a)(Object(a.a)().mark((function e(t){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isSessionStorage){e.next=4;break}window.sessionStorage.removeItem("".concat(this._prefix).concat(t)),e.next=7;break;case 4:if(!this._localForage){e.next=7;break}return e.next=7,this._localForage.removeItem(t);case 7:return e.abrupt("return");case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateItem",value:function(){var e=Object(s.a)(Object(a.a)().mark((function e(t,n){var s;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getItem(t);case 2:if(null!==(s=e.sent)){e.next=5;break}return e.abrupt("return",s);case 5:return e.next=7,this.writeItem(t,Object(r.a)(Object(r.a)({},s),n));case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"hasItem",value:function(){var e=Object(s.a)(Object(a.a)().mark((function e(t){var n;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getItem(t);case 2:return n=e.sent,e.abrupt("return",null===n);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clear",value:function(){var e=Object(s.a)(Object(a.a)().mark((function e(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._localForage){e.next=3;break}return e.next=3,this._localForage.clear();case 3:return e.abrupt("return");case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),y={production:"https://taxonomy-suggest.naukri.com",staging:"https://suggest-staging.naukri.com",development:"https://suggest-staging.infoedge.com"},j="a__",k=function(){function e(t){Object(d.a)(this,e),this._table={},this._hashFn=t}return Object(h.a)(e,[{key:"add",value:function(e){var t=this;return(Array.isArray(e)?e:[e]).forEach((function(e){t._table[t._hashFn(e)]=e})),this}},{key:"get",value:function(e){return this._table[this._hashFn(e)]||null}},{key:"getKeys",value:function(){return Object.keys(this._table)}},{key:"getValues",value:function(){var e=this;return Object.keys(this._table).map((function(t){return e._table[t]}))}}]),e}();!function(e){e.relatedConcept="rc",e.onDemand="OnDemand",e.prefetch="Prefetch"}(b||(b={}));var S=function(){function e(){Object(d.a)(this,e)}return Object(h.a)(e,null,[{key:"extractBooleanQueries",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:",",a=e.length-1;a>=0&&e[a]!==n;)--a;var r=e.substring(a+1),s="",i="",o="";if(t){i="",o=t;var c=e.substring(0,a);s=c+(c?n+" ":"")+t+n+" "}else{if(a>=0){for(var l=a-1;l>=0&&e[l]!==n;)--l;o=e.substring(l+1,a)}else o="";i=r,s=e}return[s,i,o]}},{key:"getCommonURLParams",value:function(e){var t=e.appId,n=e.env,a=Object(r.a)({limit:"15"},null!=t&&{appId:"".concat(t)}),s={domain:"",path:"",queryParams:{}};return s.domain=y[n],s.path="/suggest/taxonomyCommonSuggester",s.queryParams=a,s}},{key:"getURLEncodedParams",value:function(e,t){var n=t.whiteListSpecialChar,a=t.queryParamsToEscape,r=[],s=new RegExp("[^a-zA-Z0-9,\\s"+n+"]","g");return Object.keys(e).forEach((function(t){var n=e[t].replace(s,"");-1!==a.indexOf(t)&&(n=n&&encodeURIComponent(n)),null!==n&&void 0!==n&&r.push("".concat(t,"=").concat(n.toString()))})),r.length?r.join("&"):""}},{key:"parseDate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:":",a=e.split(" "),r=Object(i.a)(a,2),s=r[0],o=r[1],c=s.split(t),l=Object(i.a)(c,3),u=l[0],p=l[1],d=l[2],h=o.split(n),f=h[0]||"0",v=h[1]||"0",m=h[2]||"0";return new Date(parseInt(u),parseInt(p),parseInt(d),parseInt(f),parseInt(v),parseInt(m))}},{key:"defaultHashFn",value:function(){return function(e){return Array.isArray(e.id)&&-1==e.id[0]&&Array.isArray(e.name)?j+e.name[0].toString():Array.isArray(e.id)?j+e.id[0]:e.id&&e.displayTextEn?e.id+"_"+e.displayTextEn:e.id?j+e.id.toString():e.displayTextEn?e.displayTextEn:""}}},{key:"patchQueryParams",value:function(e){return Object(r.a)(Object(r.a)({},e),{},{c_query:e.c_query||"null",p_query:e.p_query||"null",sourceId:e.sourceId||"4001",vertical:e.vertical||""})}},{key:"parseSuggestionsResponse",value:function(t,n,a,r,s){if(!t||!t.length)return a;var i=Object(p.a)(s||t),o={};i.forEach((function(e){o[e]=[],n[e]&&(o[e]=n[e])}));var c=a?a.resultList||a.resultConcepts:null;c&&c.constructor===Object&&Object.keys(c).forEach((function(e){var t;Array.isArray(c[e])&&(o.hasOwnProperty(e)||(o[e]=[],i.push(e)),(t=o[e]).push.apply(t,Object(p.a)(c[e])))}));var l=new k(e.defaultHashFn());i.forEach((function(e){l.add(o[e])}));var u=l.getValues();return{responseObject:o,responseList:u,suggestionSource:r}}}]),e}(),x=function(){function e(t){var n=t.appId,a=t.isPrefetchRequired,r=void 0===a||a;Object(d.a)(this,e),r&&null===e.appId&&(e.appId=n,e.prefetch("https://taxonomy-suggest.naukri.com/suggest/v4/prefetch"))}return Object(h.a)(e,[{key:"fetchSuggestions",value:function(){var t=Object(s.a)(Object(a.a)().mark((function t(n){var s,i,o,c,l,u,p,d,h,v,m,g,O,y,j,k,x,w,C,T,I,V,D,L,A,N,E,P,F,H,R,_,B,q,M,z,W,K,Q,U,J,G,X;return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s=n.category,i=n.queryParams,o=void 0===i?{}:i,c=n.appId,l=void 0===c?1:c,u=n.env,p=void 0===u?"production":u,d=S.getCommonURLParams({appId:l,env:p}),h=d.domain,v=d.path,m=d.queryParams,g=n.domain,O=void 0===g?h:g,y=n.path,j=void 0===y?v:y,k=n.categoryOrder,x=n.isPrefetchOn,w=void 0===x||x,C=n.startSearchAfter,T=void 0===C?1:C,I=n.whiteListSpecialChar,V=void 0===I?[]:I,D=n.queryParamsToEscape,L=void 0===D?[]:D,A=n.expiresOn,N=void 0===A?Date.now()+864e5:A,E=n.cacheVersion,P=void 0===E?"v0":E,F=n.isQueryCaseSensitive,H=void 0===F||F,R=S.patchQueryParams(Object(r.a)(Object(r.a)(Object(r.a)({},m),o),{},{category:s.join(",")})),H||(R.query=null!==(_=null===(B=R.query)||void 0===B?void 0:B.toLowerCase())&&void 0!==_?_:R.query),q=R.query||R.astext||"",R.astext||(R.astext=q),s.length){t.next=9;break}return t.abrupt("return",null);case 9:if(!(q.length<T)){t.next=11;break}return t.abrupt("return",null);case 11:if(M={},z=!0,w&&e.prefetchedData&&e.prefetchedData.ac.hasOwnProperty(q.toLowerCase())&&(W=e.prefetchedData.ac[q.toLowerCase()],z=!1,s.forEach((function(e){W.hasOwnProperty(e)?M[e]=W[e]:z=!0}))),K=null,!z){t.next=44;break}if(U="".concat(O).concat(j,"?").concat(S.getURLEncodedParams(R,{whiteListSpecialChar:V,queryParamsToEscape:L})),J="".concat(U,"_").concat(P),!e.store){t.next=22;break}return t.next=21,e.store.getItem(J);case 21:Q=t.sent;case 22:if(!Q){t.next=26;break}K=Q.data,t.next=44;break;case 26:return t.next=28,f.jsonp(U);case 28:if(t.t2=G=t.sent,t.t1=null===t.t2,t.t1){t.next=32;break}t.t1=void 0===G;case 32:if(!t.t1){t.next=36;break}t.t3=void 0,t.next=37;break;case 36:t.t3=G.data;case 37:if(t.t0=t.t3,t.t0){t.next=40;break}t.t0=null;case 40:if(K=t.t0,!e.store||!K){t.next=44;break}return t.next=44,e.store.setItem(J,K,{expiresOn:N});case 44:return X=z?b.onDemand:b.prefetch,t.abrupt("return",S.parseSuggestionsResponse(s,M,K,X,k));case 46:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}],[{key:"prefetch",value:function(){var t=Object(s.a)(Object(a.a)().mark((function t(n){var r,s,i,o,c;return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=n+"?appId=".concat(e.appId),s=r,e.prefetchedData){t.next=19;break}if(!e.store){t.next=7;break}return t.next=6,e.store.getItem(s);case 6:i=t.sent;case 7:if(!i){t.next=10;break}return e.prefetchedData=i.data,t.abrupt("return");case 10:return t.next=12,f.jsonp(r);case 12:if(!(o=t.sent).ok){t.next=19;break}if(c=o.data,e.prefetchedData=c,!e.store||!c){t.next=19;break}return t.next=19,e.store.setItem(s,c,{expiresOn:S.parseDate(o.data.ttl).getTime()});case 19:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}]),e}();x.store=new O({name:"analytics-suggestor"},0),x.prefetchedData=null,x.appId=null;var w=x,C=n(236),T=["className","children","tabIndex","onKeyDown","onFocusAction","onFocusKeyPress","onFocus","onBlur","getRef"],I=function(e){var t=e.className,n=void 0===t?"":t,a=e.children,s=void 0===a?null:a,i=e.tabIndex,u=void 0===i?0:i,p=e.onKeyDown,d=void 0===p?function(){}:p,h=e.onFocusAction,f=void 0===h?function(){}:h,v=e.onFocusKeyPress,m=void 0===v?function(){}:v,g=e.onFocus,b=void 0===g?function(){}:g,O=e.onBlur,y=void 0===O?function(){}:O,j=e.getRef,k=void 0===j?function(){}:j,S=Object(o.a)(e,T),x=Object(c.useRef)(null),w=Object(c.useRef)(!0);return Object(c.useEffect)((function(){w.current&&(w.current=!1,k(x.current))}),[]),l.a.createElement("div",Object(r.a)({className:"focusable ".concat(n),ref:x,tabIndex:u,onKeyDown:function(e){if(e.target===x.current){e.stopPropagation();var t=e.key,n=e.keyCode;" "!==t&&32!==n&&"Enter"!==t&&13!==n||f(e,t,n),m(e,t,n),d(e)}},onFocus:function(e){e.target!==x.current&&b(e)},onBlur:function(e){y(e)}},S),s)},V=n(143),D=(n(571),["tag","renderFn","onFocusAction"]),L=["className","hasStar","index","isLastTag","icon","customLeadingIcon","hideIcon","title","onStarClick","onIconClick","wrapperRenderFn","starWrapper"];var A=function(e){var t,n=e.tag,a=e.renderFn,r=void 0===a?function(e){try{return e.data.label}catch(t){return""}}:a,s=e.onFocusAction,i=void 0===s?function(){}:s,c=Object(o.a)(e,D),u="".concat(r(n)),p=c.className,d=void 0===p?"":p,h=c.hasStar,f=void 0!==h&&h,v=c.index,m=void 0===v?0:v,g=c.isLastTag,b=void 0!==g&&g,O=c.icon,y=void 0===O?"times":O,j=c.customLeadingIcon,k=void 0===j?{default:"",active:null,styleClass:"",onIconClick:function(){}}:j,S=c.hideIcon,x=void 0!==S&&S,w=c.title,C=void 0===w?u:w,T=c.onStarClick,A=void 0===T?function(){}:T,N=c.onIconClick,E=void 0===N?function(){}:N,P=c.wrapperRenderFn,F=void 0===P?function(e){return e}:P,H=c.starWrapper,R=void 0===H?function(e){}:H,_=Object(o.a)(c,L);return l.a.createElement(I,Object.assign({className:"suggestor-tag ".concat(d," ").concat(n.isActive?"active":""," ").concat(b?"last":""),key:"tag-".concat(m),onClick:function(e){e.preventDefault(),e.stopPropagation()},onFocusAction:function(e,t,a){A(n),i(e,t,a)},onKeyDown:function(e){!function(e,t){var n=e.key,a=e.keyCode;"Delete"!==n&&46!==a&&"Backspace"!==n&&8!==a||E(t)}(e,n)}},_),k.default?l.a.createElement(V.Icon,{className:"".concat(k.styleClass," leading-icon"),onClick:k.onIconClick?function(){return(null===k||void 0===k?void 0:k.onIconClick)&&k.onIconClick(n)}:void 0,icon:n.isActive&&null!==(t=k.active)&&void 0!==t?t:k.default}):f&&R(l.a.createElement(V.Icon,{className:"star",onClick:function(){return A(n)},icon:n.isActive?"star":"star-outline"}),n),F(l.a.createElement("span",{className:"txt ellipsis",title:C},r(n))),!x&&l.a.createElement(V.Icon,{className:"tag-ico",onClick:function(){return E(n)},icon:y}))},N=["tags","getRenderProps"];var E=function(e){var t=e.tags,n=e.getRenderProps,a=void 0===n?function(){return{}}:n,r=Object(o.a)(e,N);return l.a.createElement(l.a.Fragment,null,t.map((function(e,n){var s=a(e);return l.a.createElement(A,Object.assign({key:"tags-tag-".concat(n),tag:e,index:n,isLastTag:n+1===t.length},r,s))})))},P=(n(572),["filterQuery","customizations","dataItems","className","selectAllText","layerTemplate","activeTupleIndex","autoHeightMax","showSelectAllOption","isSelectedFn","onSelection","dataToTextFn","wrapperRenderFn","layerWrapperRenderFn","getListRef"]),F=["renderFn"];var H=function(e){var t=Object(c.useRef)(null),n=Object(c.useCallback)((function(){}),[]),a=Object(c.useCallback)((function(e){return"".concat(e)}),[]),s=e.filterQuery,i=void 0===s?"":s,u=e.customizations,p=void 0===u?{}:u,d=e.dataItems,h=e.className,f=void 0===h?"":h,v=e.selectAllText,m=void 0===v?"Select All":v,g=e.layerTemplate,b=void 0===g?null:g,O=e.activeTupleIndex,y=void 0===O?-1:O,j=e.autoHeightMax,k=e.showSelectAllOption,S=void 0!==k&&k,x=e.isSelectedFn,w=e.onSelection,T=void 0===w?n:w,I=e.dataToTextFn,D=void 0===I?a:I,L=e.wrapperRenderFn,N=void 0===L?function(e){return e}:L,E=e.layerWrapperRenderFn,H=void 0===E?function(e){return e}:E,R=e.getListRef,_=void 0===R?function(){}:R,B=Object(o.a)(e,P),q=p.alignStyle,M=void 0===q?"list":q,z=p.tagHeading,W=void 0===z?"":z,K=p.excludeMessage,Q=void 0===K?"":K,U=p.ignoreFilterQuery,J=void 0!==U&&U,G=p.dropLayerInfo,X=p.tagLayerInfo,$=J?"":i,Z=l.a.useMemo((function(){if(!x)return 0;var e=0;return d.forEach((function(t){x(t)&&++e})),e===d.length?2:0===e?0:1}),[d,x]),Y=Object(c.useCallback)((function(e,t,n){null===e||void 0===e||e.preventDefault(),null===e||void 0===e||e.stopPropagation(),T({items:[t],indices:[n],source:"item"})}),[T]),ee=B.renderFn,te=Object(o.a)(B,F),ne=Object(c.useCallback)((function(e,t){var n=e.toLowerCase().indexOf(t.toLowerCase());return l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:"pre-wrap"},"".concat(e.substring(0,n)),l.a.createElement("b",{className:"pre-wrap"},"".concat(e.substring(n,n+$.length))),"".concat(e.substring(n+$.length))),l.a.createElement("span",{className:"pre-wrap"}))}),[$]),ae=Object(c.useCallback)((function(){return H(l.a.createElement("div",{key:"tuple-wrap  select-all-tuple ".concat(0===y?"active":"")},l.a.createElement("div",{className:"opt flex-row flex-aic ".concat(0===y?"active":""),key:"select-all-".concat(M),onClick:function(){d.length>0&&T({items:d,indices:Array.from(Array(d.length).keys()),source:"selectAll"})}},l.a.createElement(V.CheckBox,{className:"drop-layer-checkbox",checked:2===Z,partialCheck:1===Z,label:"",tabIndex:-1}),l.a.createElement("span",{className:"label"},m))))}),[y,M,Z,d,H,T]),re=Object(c.useCallback)((function(e,t){switch(M){case"list":return l.a.createElement(l.a.Fragment,null,ne(t,$));case"checkList":return l.a.createElement(l.a.Fragment,null,l.a.createElement(V.CheckBox,{className:"drop-layer-checkbox",checked:!!x&&x(e),label:"",tabIndex:-1}),ne(t,$));default:return null}}),[ne,M,x,$]);return Object(c.useEffect)((function(){_(t.current)}),[_]),b?l.a.createElement("div",Object(r.a)({className:"custom-drop-layer-wrap ".concat(f)},te),b):l.a.createElement(l.a.Fragment,null,function(){switch(M){case"list":case"checkList":return l.a.createElement(C.a,Object(r.a)(Object(r.a)({className:"drop-layer suggestor-drop-layer ".concat(f," ").concat(d.length?"":"empty")},Object(C.b)(j?parseInt(j.toString(),10):void 0)),te),H(l.a.createElement(l.a.Fragment,null,G&&l.a.createElement("p",{className:"drop-layer-title"},G),l.a.createElement("ul",{className:"layer-wrap",ref:t},S?ae():null,d.map((function(e,t){var n=S?t+1:t,a=D(e),r=!!x&&x(e),s="list"===M?"opt ".concat(r?"inactive-opt":""," ").concat(n===y?"active":""):"opt flex-row flex-aic ".concat(r?"checked":""," ").concat(n===y?"active":"");return l.a.createElement("li",{key:"tuple-wrap-".concat(t),className:"tuple-wrap ".concat(t===y?"active":"")},a?l.a.createElement("div",{className:s,title:r?Q:a.toString(),key:a.toString(),onClick:function(n){Y(n,e,t)}},N(ee?ee(e,t):re(e,a),e,t)):null)}))))));case"tags":return l.a.createElement(C.a,Object(r.a)(Object(r.a)({className:"tag-drop-layer suggestor-drop-layer ".concat(f," ").concat(d.length?"":"empty")},Object(C.b)(j?parseInt(j.toString(),10):void 0)),te),H(l.a.createElement("div",{className:"layer-wrap"},l.a.createElement("span",{className:"tag-layer-info-wrapper"},l.a.createElement("p",{className:"sugg-title"},W),X&&l.a.createElement("p",{className:"drop-layer-title"},X)),l.a.createElement("ul",{className:"tags",ref:t},S?ae():null,d.map((function(e,t){var n=!!x&&x(e),a=S?t+1:t,s=n?{title:Q}:{};return l.a.createElement("li",{key:"tuple-wrap-".concat(t),className:"tag-wrap ".concat(t+1===d.length?"last":""," ").concat(t===y?"active":"")},ee?ee(e,t):l.a.createElement(A,Object(r.a)({className:"opt suggestor-tag ".concat(n?"inactive-opt":""," ").concat(a===y?"active":""),tag:{data:e},hideIcon:!0,index:t,key:"drop-layer-tag-".concat(t),renderFn:function(e){return D(e.data)},onClick:function(a){return!n&&Y(a,e,t)},wrapperRenderFn:function(n){return N(n,e,t)}},s)))}))))));default:return null}}())},R=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"active";e&&(e.classList.remove(n),null===(t=e.querySelector(".opt"))||void 0===t||t.classList.remove(n))},_=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"active";e&&(e.classList.add(n),null===(t=e.querySelector(".opt"))||void 0===t||t.classList.add(n))},B=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e){var n=e.parentElement,a=null===n||void 0===n?void 0:n.parentElement;if(n&&a){var r=a.scrollTop,s=e.offsetTop,i=e.offsetHeight,o=a.offsetHeight;t&&a.classList.add("smooth-scroll"),s<r?a.scrollTo(0,s-1):s-r+i>=o&&a.scrollTo(0,s-o+i+1),a.classList.remove("smooth-scroll")}}},q={3:"break",8:"backspace / delete",9:"tab",12:"clear",13:"enter",16:"shift",17:"ctrl",18:"alt",19:"pause /break",20:"caps lock",21:"hangul",25:"hanja",27:"escape",28:"conversion",29:"non - conversion",32:"spacebar",33:"page up",34:"page down",35:"end",36:"home",37:"left arrow",38:"up arrow",39:"right arrow",40:"down arrow",41:"select",42:"print",43:"execute",44:"Print Screen",45:"insert",46:"delete",47:"help",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",58:":",59:"semicolon(firefox), equals",60:"<",61:"equals(firefox)",63:"\xdf",64:"@(firefox)",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",91:"Windows Key / Left \u2318 / Chromebook Search key",92:"right window key",93:"Windows Menu / Right \u2318",95:"sleep",96:"numpad 0",97:"numpad 1",98:"numpad 2",99:"numpad 3",100:"numpad 4",101:"numpad 5",102:"numpad 6",103:"numpad 7",104:"numpad 8",105:"numpad 9",106:"multiply",107:"add",108:"numpad period(firefox)",109:"subtract",110:"decimal point",111:"divide",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",124:"f13",125:"f14",126:"f15",127:"f16",128:"f17",129:"f18",130:"f19",131:"f20",132:"f21",133:"f22",134:"f23",135:"f24",136:"f25",137:"f26",138:"f27",139:"f28",140:"f29",141:"f30",142:"f31",143:"f32",144:"num lock",145:"scroll lock",151:"airplane mode",160:"^",161:"!",162:"\u061b (arabic semicolon)",163:"#",164:"$",165:"\xf9",166:"page backward",167:"page forward",168:"refresh",169:"closing paren(AZERTY)",170:"*",171:"~ + * key",172:"home key",173:"minus(firefox), mute / unmute",174:"decrease volume level",175:"increase volume level",176:"next",177:"previous",178:"stop",179:"play / pause",180:"e - mail",181:"mute / unmute(firefox)",182:"decrease volume level(firefox)",183:"increase volume level(firefox)",186:"semi - colon / \xf1",187:"equal sign",188:"comma",189:"dash",190:"period",191:"forward slash / \xe7",192:"grave accent / \xf1 / \xe6 / \xf6",193:"?, / or \xb0",194:"numpad period(chrome)",219:"open bracket",220:"back slash",221:"close bracket / \xe5",222:"single quote / \xf8 / \xe4",223:"`",224:"left or right \u2318 key (firefox)",225:"altgr",226:"< /git >, left back slash",230:"GNOME Compose Key",231:"\xe7",233:"XF86Forward",234:"XF86Back",235:"non-conversion",240:"alphanumeric",242:"hiragana/katakana",243:"half-width/full-width",244:"kanji",251:"unlock trackpad (Chrome/Edge)",255:"toggle touchpad"};var M=n(278),z=["dataItems","value","tags","className","filterQuery","placeholder","isDropLayerOpen","zenMode","direction","inputProps","dropLayerProps","customizations","dropLayerCustomizations","tagProps","componentHeight","tagsTemplate","inputTemplate","dropLayerTemplate","inputWrapperTemplate","tagsWrapperTemplate","onSelectOrChange","onActiveTupleChange","activateDropLayerOption"],W=["className","autoFocus","onFocus","onBlur","onKeyDown","onChange","getRef"],K=["className","activeTupleIndex","showSelectAllOption","onMouseDown","isSelectedFn","getListRef"];var Q=function(e){var t=e.dataItems,n=e.value,a=void 0===n?"":n,s=e.tags,u=void 0===s?[]:s,p=e.className,d=void 0===p?"":p,h=e.filterQuery,f=e.placeholder,v=void 0===f?"":f,m=e.isDropLayerOpen,g=void 0!==m&&m,b=e.zenMode,O=void 0!==b&&b,y=e.direction,j=void 0===y?"bottom":y,k=e.inputProps,S=void 0===k?{}:k,x=e.dropLayerProps,w=e.customizations,T=void 0===w?{}:w,I=e.dropLayerCustomizations,V=void 0===I?{}:I,D=e.tagProps,L=void 0===D?{}:D,A=e.componentHeight,N=void 0===A?500:A,P=e.tagsTemplate,F=void 0===P?null:P,Q=e.inputTemplate,U=void 0===Q?null:Q,J=e.dropLayerTemplate,G=void 0===J?null:J,X=e.inputWrapperTemplate,$=void 0===X?function(e){return e}:X,Z=e.tagsWrapperTemplate,Y=void 0===Z?function(e){return e}:Z,ee=e.onSelectOrChange,te=void 0===ee?function(){}:ee,ne=e.onActiveTupleChange,ae=void 0===ne?function(){}:ne,re=e.activateDropLayerOption,se=void 0===re?function(e){if(pt.current=e,pt.current){var t=pt.current.childNodes;ht.current=ht.current<t.length?ht.current:-1,ht.current>=0?(dt.current=t[ht.current],_(dt.current)):dt.current=null}}:re,ie=Object(o.a)(e,z),oe=S.className,ce=void 0===oe?"":oe,le=S.autoFocus,ue=void 0!==le&&le,pe=S.onFocus,de=void 0===pe?function(){}:pe,he=S.onBlur,fe=void 0===he?function(){}:he,ve=S.onKeyDown,me=void 0===ve?function(){}:ve,ge=S.onChange,be=void 0===ge?function(){}:ge,Oe=S.getRef,ye=void 0===Oe?function(){}:Oe,je=Object(o.a)(S,W),ke=x||{},Se=ke.className,xe=void 0===Se?"":Se,we=ke.activeTupleIndex,Ce=ke.showSelectAllOption,Te=void 0!==Ce&&Ce,Ie=ke.onMouseDown,Ve=void 0===Ie?function(){}:Ie,De=ke.isSelectedFn,Le=ke.getListRef,Ae=void 0===Le?function(){}:Le,Ne=Object(o.a)(ke,K),Ee=L.onIconClick,Pe=void 0===Ee?function(){}:Ee,Fe=T.clearOnSelect,He=void 0===Fe||Fe,Re=T.clearOnBlur,_e=void 0===Re||Re,Be=T.clearOnEscape,qe=void 0===Be||Be,Me=T.selectOnEnter,ze=void 0===Me||Me,We=T.makeTagOnComma,Ke=void 0!==We&&We,Qe=T.makeTagOnTab,Ue=void 0!==Qe&&Qe,Je=T.makeTagOnEnter,Ge=void 0!==Je&&Je,Xe=T.makeTagOnBlur,$e=void 0!==Xe&&Xe,Ze=T.selectionOnTab,Ye=void 0!==Ze&&Ze,et=V.alignStyle,tt=Object(c.useState)(ue||g),nt=Object(i.a)(tt,2),at=nt[0],rt=nt[1],st=Object(c.useState)(!1),it=Object(i.a)(st,2),ot=it[0],ct=it[1],lt=Object(c.useRef)(null),ut=Object(c.useRef)(!1),pt=Object(c.useRef)(null),dt=Object(c.useRef)(null),ht=Object(c.useRef)(-1),ft=a.trim(),vt=Object(c.useCallback)((function(){$e&&ft?mt(a,(function(e){return te({value:He?"":e,items:[e],source:"freeText"})})):_e&&te({value:""})}),[_e,He,$e,te,a,ft]),mt=function(e,t){Ke?e.split(",").forEach((function(e){t(e)})):t(e)},gt=function(){O||(ut.current=!1,rt(!0),ot&&ct(!1))},bt=function(){var e=function(e,t,n,a){var r=null;if(e){R(e);var s=null===e||void 0===e?void 0:e.nextElementSibling;if(s)r=s;else{var i;if(a)return[null,-1];r=null===e||void 0===e||null===(i=e.parentElement)||void 0===i?void 0:i.firstElementChild}return[r,(t+1)%n]}if(a&&-1===t)return[r=null===a||void 0===a?void 0:a.firstElementChild,0];return[e,t]}(dt.current,ht.current,t.length+(Te?1:0),pt.current),n=Object(i.a)(e,2),a=n[0],r=n[1];dt.current=a,ht.current=r,_(dt.current),ae(ht.current)},Ot=function(){var e=function(e,t,n,a){var r=null;if(e){R(e);var s=null===e||void 0===e?void 0:e.previousElementSibling;if(s)r=s;else{var i;if(a)return[null,-1];r=null===e||void 0===e||null===(i=e.parentElement)||void 0===i?void 0:i.lastElementChild}return[r,(t-1+n)%n]}if(a&&-1===t)return[r=null===a||void 0===a?void 0:a.lastElementChild,0];return[e,t]}(dt.current,ht.current,t.length+(Te?1:0),pt.current),n=Object(i.a)(e,2),a=n[0],r=n[1];dt.current=a,ht.current=r,_(dt.current),ae(ht.current)},yt=Object(c.useCallback)((function(e){se(e),Ae(e)}),[se,Ae]);return Object(c.useEffect)((function(){O&&!g&&at&&vt()}),[vt,g,at,O]),Object(c.useEffect)((function(){rt(ue||g)}),[ue,g]),Object(c.useEffect)((function(){ye(lt.current)}),[ye]),Object(c.useEffect)((function(){R(dt.current),ht.current=-1,dt.current=null}),[et]),Object(c.useEffect)((function(){0!==t.length&&at&&!ot||(ht.current=-1,dt.current=null)}),[t.length,ot,at]),l.a.createElement("div",Object(r.a)({className:"".concat(M.cssNamespace," ").concat(at?" active":""," ").concat(" err"!==d?d:""),style:{position:"relative"}},ie),l.a.createElement(C.a,Object(r.a)({},Object(C.b)(N)),l.a.createElement("div",{className:"suggestor-box flex-row flex-wrap ".concat(j," ").concat("err"===d?d:""),onClick:function(e){var t;null===(t=lt.current)||void 0===t||t.focus()}},F?l.a.createElement(l.a.Fragment,null,F):Y(l.a.createElement(E,Object(r.a)({tabIndex:0,tags:u,onIconClick:Pe},L))),U?l.a.createElement(l.a.Fragment,null,U):l.a.createElement(l.a.Fragment,null,$(l.a.createElement("input",Object(r.a)({className:"suggestor-input ".concat(ce),type:"text",value:a,placeholder:v,ref:lt,autoFocus:ue,onFocus:function(e){gt(),de(e)},onBlur:function(e){setTimeout((function(){var t;(fe(e),O)||(ut.current?(ut.current=!1,null===(t=lt.current)||void 0===t||t.focus()):(rt(!1),vt()))}),1)},onKeyDown:function(e){var n=function(e){var t;return null!==(t=e.key)&&void 0!==t?t:q[e.keyCode]}(e);switch(n){case"Backspace":u.length>0&&!ft&&Pe(u[u.length-1]);break;case"Escape":a&&qe&&te({value:""}),O||ct(!0);break;case",":ft&&Ke&&mt(a,(function(e){return te({value:He||""===e.trim()||","===e.trim()?"":e.trim(),items:","===e.trim()?[""]:[e.trim()],source:"freeText"})}));break;case"Enter":var r=ht.current-(Te?1:0);ot&&!O?ct(!1):0===t.length?(Ge&&ft&&e.preventDefault(),Ge&&ft&&mt(a,(function(e){return te({value:He?"":e,items:[e],source:"freeText"})}))):(dt.current&&ht.current>=0?e.preventDefault():Ge&&ft&&mt(a,(function(e){return te({value:He?"":e,items:[e],source:"freeText"})})),0===ht.current&&Te?ze&&te({value:He?"":a,items:t,indices:Array.from(Array(t.length).keys()),source:"dropLayerSelectAll"}):ze&&te({value:He?"":a,items:[t[r]],indices:[r],source:"dropLayerItem"}));break;case"Tab":if(ft&&Ue&&(mt(a,(function(e){return te({value:He?"":e,items:[e],source:"freeText"})})),Ye||e.preventDefault()),Ye&&!ft&&0!==t.length){var s=ht.current-(Te?1:0);te({value:He?"":a,items:[t[s]],indices:[s],source:"dropLayerItem"})}break;case"ArrowDown":t.length>0&&(bt(),B(dt.current),e.preventDefault());break;case"ArrowUp":t.length>0&&(Ot(),B(dt.current),e.preventDefault());break;case"ArrowLeft":t.length>0&&"tags"===et&&(Ot(),B(dt.current),e.preventDefault());break;case"ArrowRight":t.length>0&&"tags"===et&&(bt(),B(dt.current),e.preventDefault())}me(e)},onInput:function(e){e.target instanceof HTMLInputElement&&(ot&&ct(!1),te({value:e.target.value}))},onChange:function(e){be(e)},tabIndex:0},je)))))),at&&!ot&&(G||t.length>0)?l.a.createElement(H,Object(r.a)({className:"".concat(xe," direction-").concat(j),dataItems:t,filterQuery:h||a,customizations:V,layerTemplate:G,activeTupleIndex:null!==we&&void 0!==we?we:ht.current,showSelectAllOption:Te,onSelection:function(e){var t=e.items,n=e.indices,r=e.source;te({value:He?"":a,items:t,indices:n,source:"item"===r?"dropLayerItem":"dropLayerSelectAll"})},isSelectedFn:null!==De&&void 0!==De?De:function(e){return u.map((function(e){return e.data})).includes(e)},onMouseDown:function(e){ut.current=!0,Ve(e)},getListRef:yt},Ne)):null)};var U=["value","tags","fetchSuggestionsParams","filterQuery","fetchRelatedConceptsParams","showRelatedConcepts","booleanQueryDelimiter","isBoolean","tagProps","inputProps","dropLayerCustomizations","debounceWait","tagComparisonFn","dataSerializationFn","parseSuggestionsResponse","onSelectOrChange","relatedConceptQuery","sendAllSelectedValues","maxQueryLength","isPrefetchRequired"],J=["onIconClick"],G=["onFocus"];var X=function(e){var t=e.value,n=void 0===t?"":t,p=e.tags,d=void 0===p?[]:p,h=e.fetchSuggestionsParams,f=e.filterQuery,v=e.fetchRelatedConceptsParams,m=e.showRelatedConcepts,g=void 0!==m&&m,O=e.booleanQueryDelimiter,y=void 0===O?",":O,j=e.isBoolean,k=void 0!==j&&j,x=e.tagProps,C=void 0===x?{}:x,T=e.inputProps,I=void 0===T?{}:T,V=e.dropLayerCustomizations,D=void 0===V?{}:V,L=e.debounceWait,A=void 0===L?100:L,N=e.tagComparisonFn,E=void 0===N?function(e,t){return"".concat(e.data)==="".concat(t.data)}:N,P=e.dataSerializationFn,F=void 0===P?function(e){return"".concat(e)}:P,H=e.parseSuggestionsResponse,R=void 0===H?function(e){return e}:H,_=e.onSelectOrChange,B=void 0===_?function(){}:_,q=e.relatedConceptQuery,M=void 0===q?"":q,z=e.sendAllSelectedValues,W=void 0!==z&&z,K=e.maxQueryLength,X=e.isPrefetchRequired,$=void 0===X||X,Z=Object(o.a)(e,U),Y=C.onIconClick,ee=void 0===Y?function(){}:Y,te=Object(o.a)(C,J),ne=I.onFocus,ae=void 0===ne?function(){}:ne,re=Object(o.a)(I,G),se=e.customizations,ie=u(n,!0),oe=Object(i.a)(ie,1)[0],ce=u(""),le=Object(i.a)(ce,2),ue=le[0],pe=le[1],de=u(""),he=Object(i.a)(de,2),fe=he[0],ve=he[1],me=u(d,!0),ge=Object(i.a)(me,1)[0],be=Object(c.useState)([]),Oe=Object(i.a)(be,2),ye=Oe[0],je=Oe[1],ke=Object(c.useState)([]),Se=Object(i.a)(ke,2),xe=Se[0],we=Se[1],Ce=Object(c.useRef)(new w({appId:h.appId,isPrefetchRequired:$})),Te=u(h,!0),Ie=Object(i.a)(Te,1)[0],Ve=function(){var e=Object(s.a)(Object(a.a)().mark((function e(){var t,n,s,i,o,c,l=arguments;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=l.length>0&&void 0!==l[0]?l[0]:"",n=l.length>1&&void 0!==l[1]&&l[1],g){e.next=5;break}return we([]),e.abrupt("return");case 5:if(s=t||(ge.current.length>0&&0===oe.current.length?F(ge.current[ge.current.length-1].data):""),i=W?"".concat(ge.current.map((function(e){return F(e.data)})).join(",")).concat(ge.current.length>0?",":"").concat(t?"".concat(t):""):s,!s.trim()||!v){e.next=16;break}return v.sendAllSelectedValues&&(W&&","!==i[i.length-1]?i+=", ":v.getAllSelectedValues&&(i=v.getAllSelectedValues(i))),e.next=11,Ce.current.fetchSuggestions(Object(r.a)(Object(r.a)({isPrefetchOn:!1},v||{}),{},{path:(null===v||void 0===v?void 0:v.path)||"/suggest/autoconcepts",queryParams:Object(r.a)(Object(r.a)({},null===v||void 0===v?void 0:v.queryParams),{},{query:i})}));case 11:o=e.sent,c=k?s===fe.current:ge.current.length>0&&Ne(F(ge.current[ge.current.length-1].data))===s,o&&(c||n)&&we(R(o.responseList,b.relatedConcept)),e.next=17;break;case 16:we([]);case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),De=function(){var e=Object(s.a)(Object(a.a)().mark((function e(t){var n;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.trim()){e.next=5;break}return e.next=3,Ce.current.fetchSuggestions(Object(r.a)(Object(r.a)({},Ie.current),{},{queryParams:Object(r.a)(Object(r.a)({},Ie.current.queryParams),{},{query:t})}));case 3:(n=e.sent)&&t===Ne(k?ue.current:oe.current)&&je(R(n.responseList,n.suggestionSource));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Le=l.a.useCallback(function(e,t,n){var a,r,s;void 0===t&&(t=50),void 0===n&&(n={});var i=null!=(a=n.isImmediate)&&a,o=null!=(r=n.callback)&&r,c=n.maxWait,l=Date.now(),u=[];function p(){if(void 0!==c){var e=Date.now()-l;if(e+t>=c)return c-e}return t}var d=function(){var t=[].slice.call(arguments),n=this;return new Promise((function(a,r){var c=i&&void 0===s;if(void 0!==s&&clearTimeout(s),s=setTimeout((function(){if(s=void 0,l=Date.now(),!i){var a=e.apply(n,t);o&&o(a),u.forEach((function(e){return(0,e.resolve)(a)})),u=[]}}),p()),c){var d=e.apply(n,t);return o&&o(d),a(d)}u.push({resolve:a,reject:r})}))};return d.cancel=function(e){void 0!==s&&clearTimeout(s),u.forEach((function(t){return(0,t.reject)(e)})),u=[]},d}(De,A),[k,A]),Ae=0===A?De:Le,Ne=function(e){var t=e,n=e.trim()[e.length-1];return"'"!==n&&'"'!==n||(t=e.slice(0,e.length-1)),"'"!==e[0]&&'"'!==e[0]||(t=t.slice(1,t.length)),t};return Object(c.useEffect)((function(){!d.length&&0===n.length&&ye.length>0&&(je([]),we([]))}),[ye.length,d,n]),Object(c.useEffect)((function(){M&&Ve(M,!0)}),[M]),l.a.createElement(Q,Object(r.a)({dataItems:g&&xe.length>0?xe:ye,value:n,tags:d,filterQuery:f||(k?ue.current:void 0),inputProps:Object(r.a)({onFocus:function(e){k||Ve(),ae(e)}},re),onSelectOrChange:function(e){var t=e.value,n=e.items,a=t;if(W&&(a=Ne(t)),k){var s=S.extractBooleanQueries(t,n&&n.length?F(n[n.length-1]):"",y),o=Object(i.a)(s,3),c=o[0],l=o[1],u=o[2],p=l.trim(),d=u.trim(),h=B(Object(r.a)(Object(r.a)({},e),{},{value:c})),f=null!==h&&void 0!==h?h:{},v=f.shortCircuit,m=void 0!==v&&v,g=f.clearFetchedSuggestions;if(void 0!==g&&g&&we([]),m)return;pe(p),ve(d),Ne(p)?(we([]),K&&K>=Ne(p).length?Ae(Ne(p)):K||Ae(Ne(p))):(je([]),K&&K>=Ne(d).length?Ve(Ne(d)):K||Ve(Ne(d)))}else{var b=B(e),O=null!==b&&void 0!==b?b:{},j=O.shortCircuit,x=void 0!==j&&j,w=O.clearFetchedSuggestions;if(void 0!==w&&w&&we([]),x)return;a?(we([]),K&&K>=a.length?Ae(a):K||Ae(a)):(null!==se&&void 0!==se&&se.clearListOnSelect&&je([]),n||Ve()),n&&n.length&&Ve(Ne(F(n[n.length-1])))}},tagProps:Object(r.a)({onIconClick:function(e){var t=d.findIndex((function(t){return E(t,e)}));if(-1!==t)if(1===d.length)we([]),n||je([]);else{var a=t===d.length-1?d.length-2:d.length-1;a>=0&&Ve(F(d[a].data))}ee(e)}},te),dropLayerCustomizations:Object(r.a)({alignStyle:k?0===ue.current.length&&g?"tags":"list":0===oe.current.length&&g?"tags":"list"},D)},Z))};t.a=X},568:function(e,t,n){"use strict";(function(e){var a,r=n(1),s=n(24),i=n(25),o=n(569);"undefined"===typeof window&&(e.window={});var c=window,l="http://abc.infoedge.com",u={headers:{AppId:null===c||void 0===c||null===(a=c.gnb_variables)||void 0===a?void 0:a.appId,systemId:"naukriIndia",Accept:"application/json","Content-Type":"application/json"}},p=function(){function e(){Object(s.a)(this,e)}return Object(i.a)(e,[{key:"_xhr",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;t||(t={});var s=Object(r.a)(Object(r.a)(Object(r.a)({},u),t),{},{headers:Object(r.a)(Object(r.a)({},u.headers),t.headers)});return-1===e.indexOf("http")&&-1===e.indexOf("https")&&(e="".concat(l).concat(e)),new Promise((function(r,i){var c,l,p,d=new XMLHttpRequest;if((null===u||void 0===u||null===(c=u.headers)||void 0===c||!c.AppId)&&(null===(l=t)||void 0===l||null===(p=l.headers)||void 0===p||!p.AppId))return i(new Error("AppId not present in GNB variables. Please pass it manually in request headers"));if(d.open(s.method||"GET",e),d.withCredentials="undefined"===typeof s.withCredentials||s.withCredentials,d.responseType="blob"===s.responseType?"blob":"",s.headers)for(var h in s.headers)d.setRequestHeader(h,s.headers[h]);d.onreadystatechange=function(){if(4===d.readyState){var e=d.status;401!==e&&403!==e||!n&&Object(o.b)(),r(f())}};var f=function(){var e=d.status,t=d.statusText,n=d.response,a=e>=200&&e<300;return"blob"===d.responseType?{ok:a,data:n,status:e,statusText:t,dataText:"",headers:d.getAllResponseHeaders()}:{ok:a,status:e,statusText:t,data:v(n),dataText:d.responseText,headers:d.getAllResponseHeaders()}},v=function(e){try{return JSON.parse(e)}catch(t){return e}},m=null,g=s.body,b=typeof g;if(Array.isArray(g))m=JSON.stringify(g);else if(g)switch(b){case"object":m=JSON.stringify(g);break;case"boolean":case"number":case"undefined":case"bigint":m=(g||"").toString();break;case"string":m=g}d.upload&&a&&(d.upload.onprogress=a),d.send(m)}))}},{key:"get",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return this._xhr(e,Object(r.a)(Object(r.a)({},t),{},{method:"GET"}),n)}},{key:"post",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return this._xhr(e,Object(r.a)(Object(r.a)({},t),{},{method:"POST"}),n)}},{key:"put",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return this._xhr(e,Object(r.a)(Object(r.a)({},t),{},{method:"PUT"}),n)}},{key:"del",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return this._xhr(e,Object(r.a)(Object(r.a)({},t),{},{method:"DELETE"}),n)}},{key:"patch",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return this._xhr(e,Object(r.a)(Object(r.a)({},t),{},{method:"PATCH"}),n)}},{key:"jsonp",value:function(e,t){var n=t||"_".concat(Date.now());return new Promise((function(t){c[n]=function(e){t({ok:!0,status:200,statusText:"",data:e,dataText:"".concat(e),headers:""}),delete c[n]};var a=document.createElement("script");a.setAttribute("type","text/javascript"),a.setAttribute("async","true"),a.setAttribute("src",Object(o.a)(e,"callback=".concat(n))),document.getElementsByTagName("head")[0].appendChild(a)}))}},{key:"formSubmit",value:function(e,t,n,a){var r=n||"post",s=document.createElement("form");s.setAttribute("id","formSubmitResdex"),s.setAttribute("method",r),s.setAttribute("action",e),a&&s.setAttribute("name",a);var i=function(e,t){var n=document.createElement("input");n.setAttribute("type","hidden"),n.setAttribute("name",e),n.setAttribute("value",t),s.appendChild(n)};Object.keys(t).forEach((function(e){Array.isArray(t[e])?t[e].forEach((function(t){return i("".concat(e,"[]"),t)})):i(e,t[e])})),document.body.appendChild(s),s.submit(),s.remove()}}]),e}();t.a=new p}).call(this,n(58))},569:function(e,t,n){"use strict";function a(e,t){return e.includes("?")?e+"&"+t:e+"?"+t}function r(){var e=window.homePageUrl,t="".concat(e,"?msg=TO&URL=").concat(encodeURI(window.location.href));window.location.href=t}n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r}))},570:function(e,t,n){},571:function(e,t,n){},572:function(e,t,n){},573:function(e,t,n){},751:function(e,t,n){"use strict";n(573);var a=n(1),r=n(12),s=n(18),i=n(24),o=n(25),c=n(45),l=n(27),u=n(28),p=n(0),d=n.n(p),h=n(15),f=n.n(h),v=n(236),m=n(3),g=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var e={hideTracksWhenNotNeeded:!0,renderThumbVertical:v.c,renderTrackVertical:v.d,autoHide:!1,autoHeight:!0,autoHeightMax:this.props.maxHeight,onScroll:this.props.onScrollHandler,id:"sa-dd-scroll"+this.props.scrollIdSuffix,ref:this.props.optionsScrollRef},t=this.props.onScrollFrameHandler;t&&(e=Object(a.a)(Object(a.a)({},e),{},{onScrollFrame:t}));var n="dropdown"+(this.props.dependent?" dependent":"")+" "+this.props.dependentOpenClass,r=this.props.uiHeight;return Object(m.jsx)(v.a,Object(a.a)(Object(a.a)({},e),{},{children:Object(m.jsx)("ul",{className:n,style:{position:"relative",height:this.props.isVirtualization?r+"px":"auto",width:"auto"},children:this.props.li})}))}}]),n}(d.a.PureComponent),b=g,O=/[.*+?^${}()|[\]\\]/g,y=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.value,r=t.liCustomTemplate,s=t.arrow,i=t.itemObject,o=t.searchedValue,c=t.isPrimaryLayer,l=t.checkSelected,u=t.multi,p=t.keyboardSelectedClass,d=t.onSelectAll,h=t.onClickHandler,f=t.breadCrumbHandler,v=t.isVirtualization,g=t.onMouseOverHandler,b=t.index,y=t.addTitleToDefaultListItem,j=t.getSearchRegexString,k="undefined"!==typeof o&&"string"===typeof i.label&&"L"===i.labelType&&""!==o.trim()?function(e,t,n){var a=n(t.toString().replace(O,"\\$&")),r=new RegExp(a,"i"),s=e.split(r),i=!1;return Object(m.jsxs)("span",{children:[" ",s.map((function(e,n){return Object(m.jsx)("span",{className:!i&&e&&e.toLowerCase()===t.toString().toLowerCase()?(i=!0,"dd_bold"):"",children:e},n)}))," "]})}(i.label,o,j):i.label,S="S"===i.labelType||"SH"===i.labelType,x="LS"===i.labelType,w=i.disabled||!1,C="SelectAll"===i.value?d:h,T=i.breadCrumb?"breadCrumb":u&&!c?l?"multi selected":"multi":l?"selected":"";T+="undefined"!==typeof p?" "+p:"";var I=c&&!x?function(t){e.props.primaryLayerHandler(t,n,i.label)}:i.breadCrumb&&f?function(e){f(e)}:S||w?function(e){return e.stopPropagation()}:C,V={};return y&&(V.title="string"===typeof i.titleText?i.titleText:i.label),Object(m.jsxs)("li",Object(a.a)(Object(a.a)({value:n,index:b,onMouseOver:g,className:(c?T:S?"heading":w&&u?"disabled "+T:w?"disabled":T)+("undefined"!==typeof i.dependent?" dependent":"")+(i.searchDependent?" searchDependent":"")+(v?" ddEllipsis":"")+(i.customClass?i.customClass:"")+("hidden"===i.labelType?" hiddenItem":""),style:v?{top:this.props.top+"px"}:{},onClick:I},V),{},{children:[u?Object(m.jsx)("span",{className:"checkbox"}):"",r?r(i,k):k,s?Object(m.jsx)("span",{className:"rightArrow"}):""]}))}}]),n}(d.a.PureComponent),j=y;function k(e,t,n,a){var r,s=!1,i=0;function o(){r&&clearTimeout(r)}function c(){for(var c=arguments.length,l=new Array(c),u=0;u<c;u++)l[u]=arguments[u];var p=this,d=Date.now()-i;function h(){i=Date.now(),n.apply(p,l)}function f(){r=void 0}s||(a&&!r&&h(),o(),void 0===a&&d>e?h():!0!==t&&(r=setTimeout(a?f:h,void 0===a?e-d:e)))}return"boolean"!==typeof t&&(a=n,n=t,t=void 0),c.cancel=function(){o(),s=!0},c}var S,x=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).firstClickedItemIndex=-1,a.onScrollHandler=function(e){if(e.target){var t=a.state.min,n=a.state.max;n=(t=Math.floor(e.target.scrollTop/a.state.height))-a.state.min+n,a.setState({min:t,max:n})}},a.getLI=function(e,t,n,r,s,i,o){var c=a.props,l=c.multi,u=c.onClickHandler,p=c.liCustomTemplate,d=c.searchedValue,h=c.onSelectAll,f=c.isPrimaryLayer,v=c.isVirtualization,g=c.onMouseOverHandler,b=c.addTitleToDefaultListItem,O=c.getSearchRegexString;return Object(m.jsx)(j,{value:a.prefix+e,isPrimaryLayer:f,liCustomTemplate:p,itemObject:t,searchedValue:d,checkSelected:n,multi:l,onSelectAll:h,keyboardSelectedClass:r,onClickHandler:u,primaryLayerHandler:a.props.primaryLayerHandler,breadCrumbHandler:a.props.breadCrumbHandler,arrow:i,top:s,index:o,isVirtualization:v,onMouseOverHandler:g,addTitleToDefaultListItem:b,getSearchRegexString:O},e)},a.ref=d.a.createRef(),a.state={min:0,max:0,height:20},a}return Object(o.a)(n,[{key:"componentDidMount",value:function(){if(this.props.isVirtualization){var e=this.ref.current.querySelectorAll("li")[0],t=e.clientHeight,n=Math.ceil(this.props.maxHeight/t)+5;e&&this.setState({height:e.clientHeight,max:n})}}},{key:"render",value:function(){var e=this,t="",n=0,a=this.props,r=a.options,s=a.selectedItems,i=a.cursor,o=a.prefix,c=a.isPrimaryLayer,l=a.showArrow,u=a.isVirtualization,p=a.onScrollFrameHandler,d=Object.keys(r)[i];if(this.prefix=o||"a",r){var h=Object.keys(r);n=h.length*this.state.height,t=h.map((function(t,a){if(u&&n>e.props.maxHeight&&(a>e.state.max||a<e.state.min-5))return!1;var i=u?a*e.state.height:null,o=r[t],p=t.replace(e.prefix,""),h=!(!s||-1===s.indexOf(p)),f=d===e.prefix+p?" active":"",v="";return c?"S"===o.labelType||"LS"===o.labelType?(v="S"===o.labelType,e.getLI(p,o,h,f,i,v,a)):void 0:(v=!(!l||!o.dependent),e.getLI(p,o,h,f,i,v,a))}))}return Object(m.jsx)("div",{ref:this.ref,children:Object(m.jsx)(b,{li:t,dependent:this.props.dependent,dependentOpenClass:this.props.dependentOpenClass,onScrollHandler:u?k(300,this.onScrollHandler):null,uiHeight:n,width:this.props.width,maxHeight:this.props.maxHeight,isVirtualization:u,onScrollFrameHandler:p,scrollIdSuffix:this.props.scrollIdSuffix,optionsScrollRef:this.props.optionsScrollRef})})}}]),n}(d.a.PureComponent),w=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var o;Object(i.a)(this,n),(o=t.call(this,e)).selectedValues=Object(s.a)(o.props.selectedValues),o.removeableValue="",o.clickedOutside=!1,o.filterClickableValues=[],o.prefix=o.props.prefix,o.doNotRemoveSearchedValue=o.props.doNotRemoveSearchedValue&&!0===o.props.doNotRemoveSearchedValue||null,o.heading_options={},o.selectAllObj=Object(r.a)({},o.prefix+"SelectAll",{id:"SelectAll",value:"SelectAll",label:"Select All",labelType:"L",searchable:!1}),o.resetSearch=function(){o.setState({inputValue:"",isFocused:!0,isSearched:!1,searchedItems:{},isNotFound:!1},(function(){o.handleDefaultValue(o.props.selectedValues.length)}))},o.createOptions=function(e){var t=o.props,n=t.selectAll,a=t.id,r=t.search,s=t.dynamicSearchOptionsCursorPosition;if(n&&Object.keys(e).length&&(e=Object.assign({},o.selectAllObj,e)),o.props.isPrimaryLayer){var i={};for(var l in e)"S"!==e[l].labelType&&"LS"!==e[l].labelType||(i[l]=e[l]);o.heading_options=i}var u,p=o.state,d=p.isFocused,h=p.inputValue;o.setInitialStateOptions(a,e,(u=Object(c.a)(o),function(){Object.keys(e).length&&u.props.selectedValues.length&&u.addValue(u.props.selectedValues),r&&h&&d&&(u.handleSearch(h,!0),"number"===typeof s&&u.setState({cursor:s}))}))},o.setOptions=function(){var e=o.props.options;if(o.filterClickableValues=Object.keys(e).filter((function(t){return e[t]&&"S"!==e[t].labelType&&"SH"!==e[t].labelType&&!e[t].disabled})),o.setState({options:e}),o.props.isPrimaryLayer){var t={};for(var n in e)"S"!==e[n].labelType&&"LS"!==e[n].labelType||(t[n]=e[n]);o.heading_options=t}},o.getCurrentOptions=function(){return Object.keys(o.state.searchedItems).length?o.state.searchedItems:Object.keys(o.state.primaryLayerClickedValues).length?o.state.primaryLayerClickedValues:o.props.isPrimaryLayer&&!Object.keys(o.state.primaryLayerClickedValues).length?o.heading_options:o.state.dd_options},o.addValue=function(e,t,n,a){var r=Object(c.a)(o).selectedValues,s="object"!==typeof e?r.concat([e]):[].concat(e);o.props.onChangeHandler&&o.props.onChangeHandler(s,"",!1,t,n,a)},o.removeValue=function(e){var t=Object(c.a)(o).selectedValues.filter((function(t){return t!==e}));o.props.onChangeHandler&&o.props.onChangeHandler(t,"",!1)},o.setInitialStateOptions=function(e,t,n){o.setState({dd_options:t},(function(){n()}))},o.handleRemoveTag=function(e){o.props.onChangeHandler(o.selectedValues,e,!1)},o.removeTagValue=function(){o.props.onChangeHandler(o.selectedValues,"",!1)},o.addOtherOptions=function(e,t){o.setState({dd_options:Object(a.a)(Object(a.a)({},o.state.dd_options),{},Object(r.a)({},t+"other"+e,{id:"other"+e,value:"other"+e,label:e,labelType:"L"}))})},o.addAll=function(e,t){o.setState({ddSelectedValues:e},(function(){t&&t()}))},o.handleClickOutside=function(e){var t=f.a.findDOMNode(Object(c.a)(o));if("Enter"!==e.code&&(!t||!t.contains(e.target))){var n=o.props,a=n.onChangeHandler,r=n.shouldResetSearch,s=o.state,i=s.cursor,l=s.isSearched,u=s.searchedItems;o.removeableValue=!1,a(o.selectedValues,"",!0),o.clickedOutside=!0,o.setState({isOpen:o.isAlwaysOpen||!1,cursor:i>-1&&l?-1:i,isSearched:!1,isFocused:!1,isClickedOnList:!1,searchedItems:r?{}:u,isNotFound:!!o.props.doNotRemoveSearchedValue&&o.state.isNotFound},(function(){this.handleDefaultValue(this.selectedValues.length)})),document.removeEventListener("click",o.handleClickOutside,!0),document.removeEventListener("keyup",o.handleClickOutside,!0)}},o.clickHandler=function(e){e.stopPropagation(),e.preventDefault(),o.state.isOpen||o.focusHandler(e)},o.focusHandler=function(e){var t=o.props.setCursorPosition,n=o.props;n.search,n.multi,n.removeValueOnBackspaceForSingleSelect;if(o.state.isClickedOnList||o.state.isOpen&&o.props.openWithHeader)return o.setState({isClickedOnList:!1}),!1;e.preventDefault();var a=o.doNotRemoveSearchedValue||o.state.isSearched||o.props.persistSelectedValue,r=o.getItems(),s=Object.keys(r),i=s.length-1,c=-1===i?0:o.getCursorPosition(r,-1,"down",i),l=o.isAlwaysOpen||r&&s.length&&!o.state.isOpen;l&&(c=c||t),o.setState({isOpen:l,inputValue:a?o.state.inputValue:"",isFocused:!0,searchedItems:a?o.state.searchedItems:{},primaryLayerClickedValues:{},dependentOptions:{},cursor:o.isFirstItemNotActive?-1:c,cursorPrevState:null},(function(e){o.handleScrollMovement(e)})),o.clickedOutside=!1,document.addEventListener("click",o.handleClickOutside,!0),document.addEventListener("keyup",o.handleClickOutside,!0),o.props.focusHandler&&o.props.focusHandler(e)},o.handleChange=function(e){var t=o.props.removeValueOnBackspaceForSingleSelect,n=e.target.value;!1===o.props.search&&(n="",e.preventDefault());var a=1===n.length?n.replace(",",""):n;o.props.onInputChangeHandler&&o.props.onInputChangeHandler(a),a=""===a.trim()?a.trim():a,o.setState({inputValue:a,primaryLayerClickedValues:{}},(function(){this.handleSearch(a),a||t||this.handleDefaultValue(this.selectedValues.length)}))},o.handleDefaultValue=function(e){var t=o.props,n=t.defaultValue,a=t.options,r=t.multi,s=o.state,i=s.inputValue,c=s.isSearched,l="";if(r)l=e?n?n(e):"This is my default ".concat(e):"";else{var u=o.selectedValues.length&&a[o.prefix+o.selectedValues[0]]?a[o.prefix+o.selectedValues[0]].label:"";l=n?n(e):u}var p=!o.clickedOutside&&c&&i.length&&r?i:l;o.setState({inputValue:o.doNotRemoveSearchedValue||c?i:r?"":p,placeholder:p||o.props.placeholder})},o.getActiveItem=function(e){return(!o.props.isPrimaryLayer||o.state.inputValue.length||"undefined"!==typeof o.state.dependentOptions&&Object.keys(o.state.dependentOptions).length)&&("L"!==e.labelType||!!e.disabled)},o.getNextPrevCursorValue=function(e,t,n){return e=parseInt(e),"up"===t?e>0?e-1:0:e<n?e+1:n},o.getCursorPosition=function(e,t,n,a){for(var r=o.getNextPrevCursorValue(t,n,a),s=e[Object.keys(e)[r]],i=o.getActiveItem(s),c=r,l="up"===n?c>0:c<a;i&&l;)c=o.getNextPrevCursorValue(c,n,a),l="up"===n?c>0:c<a,s=e[Object.keys(e)[c]],i=o.getActiveItem(s);return"up"===n?0===c&&i?a:c:c===a&&i?0:c},o.getItems=function(){return o.state.dependentOptions&&Object.keys(o.state.dependentOptions).length?o.state.dependentOptions:o.getCurrentOptions()},o.getDependentOpenClass=function(){return Object.keys(o.state.dependentOptions).length?"dependentHover":""},o.handleKeyUpEvent=function(e){e.stopPropagation();var t=o.state,n=t.cursor,a=t.searchedItems,r=t.isSearched,s=t.isOpen,i=o.props,l=i.addSeperatorForOther,u=i.onAddValueFromOutside,p=i.keyUpHandler,d=(i.isPrimaryLayer,i.setCursorPosition),h=Object(c.a)(o).removeTagValue;if(p&&p(e),o.removeableValue&&!o.props.deleteTagOnSingleBackspace&&h(),l&&0===Object.keys(a).indexOf("notFound")&&l.indexOf(e.nativeEvent.code)>=0&&""!==e.target.value.replace(",","").trim())return u?u(o.state.inputValue):o.handleOther(),!1;e.target.value&&o.removeableValue&&(o.removeableValue=!1),o.setState({isBackSpace:!1,isSpaceBar:!1});var f=o.getItems(),v=Object.keys(f).length-1,m=n>=-1&&r?0:n;switch(o.props.search||9===e.keyCode||e.preventDefault(),e.keyCode){case 37:if(Object.keys(o.state.dependentOptions).length){m=o.state.cursorPrevState;o.setState({cursor:m,cursorPrevState:null,dependentOptions:{},rightArrow:!1})}break;case 38:(m=o.getCursorPosition(f,n,"up",v))>=0&&o.setState((function(e){return{cursor:m,rightArrow:!1}}),o.handleScrollMovement);break;case 39:if(n>=0&&"undefined"!==typeof f[Object.keys(f)[n]].dependent){m=1;var g=o.state.cursor;e.persist(),o.setState({cursor:m,cursorPrevState:g,rightArrow:!0},(function(){o.handleEnter(e)}))}break;case 40:var b;s||o.setState({isOpen:!0}),b=n||d,(m=o.getCursorPosition(f,b,"down",v))>=0&&o.setState((function(e){return{cursor:m,rightArrow:!1}}),o.handleScrollMovement);break;case 32:o.setState({isSpaceBar:!0});break;case 8:var O=f[Object.keys(f)[m]];e.target.value&&O&&("L"!==O.labelType||O.disabled)?m+=1:""===e.target.value&&(m=0),o.setState({isBackSpace:!0,cursor:m}),o.props.handleBackSpace&&o.handleBackSpace(e);break;default:!1===o.state.search&&e.preventDefault();var y=f[Object.keys(f)[m]];e.target.value&&y&&("S"===y.labelType||"SH"===y.labelType||y.disabled)&&(m+=1),o.setState({cursor:m})}},o.handleKeyDownEvent=function(e){var t=o.state,n=t.cursor,a=t.isSearched,r=o.getItems(),s=n>=-1&&a?0:n;if(13===e.keyCode&&(e.preventDefault(),e.stopPropagation()),o.setState({prevTypedValue:e.target.value}),13===e.keyCode){if("undefined"!==typeof r[Object.keys(r)[s]]&&"undefined"!==typeof r[Object.keys(r)[s]].dependent){s=1;var i=o.state.cursor;o.setState({cursor:s,cursorPrevState:i})}o.handleEnter(e)}},o.handleOther=function(e){var t=o.state.inputValue,n=Object(c.a)(o).addOtherOptions;-1===o.selectedValues.indexOf("other"+t)&&(n(t,o.prefix),o.addValue("other"+t)),o.setState({inputValue:""})},o.handleScrollMovement=function(e){var t=o.props.moveToScrollTop;if(o.node instanceof HTMLElement){var n=o.node.querySelectorAll(".active");(n=n[n.length-1])&&(t?o.ddOptionsScrollRef.current.scrollTop(n.offsetTop):n.scrollIntoView({block:"nearest",inline:"nearest",behavior:"instant"}))}},o.handleEnter=function(e){if(o.node instanceof HTMLElement){var t=o.node.querySelectorAll(".active");(t=t[1]?t[1]:t[0])&&(e.currentTarget=t,t.click(e));var n=o.props.enterHandler;n&&n(t)}},o.handleBackSpace=function(e){var t=o.props,n=t.search,a=t.multi,r=t.removeValueOnBackspaceForSingleSelect;if(o.props.search){var s=Object(c.a)(o),i=s.removeValue,l=s.selectedValues,u=s.handleRemoveTag,p=l;e.target.value?o.removeableValue=!1:(a&&p.length&&(!o.removeableValue||o.props.deleteTagOnSingleBackspace)&&""===o.state.prevTypedValue?(o.removeableValue=!0,u(p[p.length-1])):a&&(o.removeableValue=!1,i(p[p.length-1])),o.setState({inputValue:o.state.isKeyPressed?"":o.state.inputValue,isKeyPressed:!1},(function(){!o.state.inputValue.length&&!a&&n&&r&&o.selectedValues.length&&(o.removeValue(o.selectedValues[0]),o.state.isOpen&&(document.addEventListener("click",o.handleClickOutside,!0),document.addEventListener("keyup",o.handleClickOutside,!0)))})))}else e.preventDefault()},o.handleDependentSearch=function(e,t){var n=o.props.getSearchRegexString,a={},s=new RegExp(n(e),"i");for(var i in t)null!==t[i].label.match(s)&&"S"!==t[i].labelType&&"SH"!==t[i].labelType&&(t[i].searchDependent=!0,a=Object.assign(a,Object(r.a)({},i,t[i])));return a},o.handleSearch=function(e,t){var n=o.state.dd_options,a=e.trim(),s=a.replace(O,"\\$&"),i=n,c=o.props.getSearchRegexString,l=new RegExp(c(s),"i"),u={},p=!1;if(a){var d={};for(var h in i)if(!1!==i[h].searchable)if("S"===i[h].labelType||"SH"===i[h].labelType)d=Object(r.a)({},h,i[h]);else if(null!==i[h].label.match(l)){var f={};i[h].dependent&&Object.keys(i[h].dependent).length&&(f=o.handleDependentSearch(s,i[h].dependent,!1)),u=Object.assign(u,d,Object(r.a)({},h,i[h]),f),d={}}else{var v={};i[h].dependent&&Object.keys(i[h].dependent).length&&"S"!==i[h].labelType&&"SH"!==i[h].labelType&&(v=o.handleDependentSearch(s,i[h].dependent,!0),Object.keys(v).length&&(u=Object.assign(u,d,Object(r.a)({},h,i[h]),v),d={}))}0===Object.keys(u).length&&(u={notFound:{id:"notfound",label:"Not Found",value:"notFound"}},p=!0)}o.setState({searchedItems:u,inputValue:e||"",isOpen:!0,isSearched:!0,isNotFound:p,dependentOptions:t?o.state.dependentOptions:{},cursorPrevState:null,isFocused:!0})},o.blurHandler=function(e){var t=o.props.onInputBlurHandler;o.props.config&&o.props.config.isAlwaysOpen||(o.handleClickOutside(e),t&&t(e))},o.dependentHandler=function(e){var t=o.props.options[e]||o.state.primaryLayerClickedValues[e];return t.disableSecondaryLayer?{}:t.dependent},o.getDependentDDAlignmentFromTop=function(e){var t=0,n=0;if(o.props.isNotDependentDDAlignmentFromTop){var a=o.node.parentNode.querySelectorAll(".dropDownPrimaryContainer")[0].getBoundingClientRect(),r=(o.node.querySelectorAll("input.ddInput")[0].getBoundingClientRect(),e.getBoundingClientRect());t=r.top-a.top-1,r.left<a.left&&(n=r.width-(a.left-r.left)-1)}return{top:t,left:n}},o.selectListClickHandler=function(e,t){var n=o.props.splitter;e.stopPropagation();var a=e.currentTarget,r={},s=o.state.cursor,i=!1,l=null,u=!1,p=a.classList;if(o.state.currentSelected&&p.contains(" dependent")&&p.contains("selected")&&o.state.currentSelected.split(n)[1]!==a.getAttribute("value").split(n)[1])o.setState({dependentOptions:o.dependentHandler(a.getAttribute("value")),currentSelected:o.props.multi?a.getAttribute("value"):null});else{a.className.match(" dependent")?(l=o.getDependentDDAlignmentFromTop(a),s=0,r=o.dependentHandler(a.getAttribute("value")),i=!0):Object.keys(o.state.dependentOptions).length&&(r=o.state.dependentOptions);var d=Object(c.a)(o).addValue,h=o.state,f=h.dd_options,v=h.isSearched,m=h.searchedItems,g=o.props,b=g.options,O=g.multi,y=g.isSearchPersist,j=a.getAttribute("value").substr(o.prefix.length),k=b[o.prefix+j];if(k="undefined"===typeof k||"undefined"!==typeof k&&"LS"!==k.labelType,!(O?o.state.rightArrow:i))if(o.props.multi&&k){var S=o.selectedValues;if("undefined"!==typeof t){if(Object.keys(b).length===S.length)d([]);else d(Object.keys(b).map((function(e){return b[e].value})))}else{var x=S.indexOf(j);x>-1?(S.splice(x,1),d(S,o.state.searchedItems,e,j)):d(S.concat([j]),o.state.searchedItems,e,j)}}else u=o.selectedValues[0]===j,o.props.isAllowDeselectionInSingleSelect&&o.selectedValues.length&&u?o.removeValue(j):o.addValue([j]),f[o.prefix+j]&&f[o.prefix+j].childObject||o.setState({isOpen:o.isAlwaysOpen||!1});var w=o.state.cursorPrevState;if(Object.keys(r).length){var C=o.getCurrentOptions(),T=Object.keys(C),I=Object.keys(o.state.dependentOptions),V=-1;for(var D in r)if(V++,"L"===r[D].labelType)break;s=-1!==I.indexOf(o.prefix+j)?I.indexOf(o.prefix+j):V,s=null===w?V:s,w=-1===T.indexOf(o.prefix+j)?w:T.indexOf(o.prefix+j)}else{s=Object.keys(o.getCurrentOptions()).indexOf(o.prefix+j),a.className=a.className+" active"}var L=i||O;o.setState({isKeyPressed:!0,isBackSpace:!1,isSpaceBar:!1,isSearched:!(!O||!y)&&v,dependentOptions:L?r:{},isClickedOnList:!0,dependentTop:l?l.top:0,dependentLeft:l?l.left:0,cursor:L||s&&!w?s:-1,cursorPrevState:L?w:null,rightArrow:!O&&i,searchedItems:O&&y?m:[],currentSelected:O?a.getAttribute("value"):null},(function(){o.node.querySelector("input").focus(),u&&o.handleDefaultValue(o.selectedValues.length)}))}},o.handleDropDownClick=function(e){e.stopPropagation(),e.preventDefault(),o.node.querySelector("input").focus()},o.selectAllFunc=function(e){o.selectListClickHandler(e,"SelectAll")},o.notFoundCustomTemplate=function(e,t){return o.props.notFoundCustomTemplate?o.props.notFoundCustomTemplate(e,t):Object(m.jsxs)(d.a.Fragment,{children:[Object(m.jsx)("strong",{className:"notFoundText",children:e}),Object(m.jsx)("span",{children:" not found"})]})},o.getDropDownContainerHeight=function(){var e=o.node?o.node.querySelectorAll(".dropDownPrimaryContainer div")[0]:null;return e&&e.getBoundingClientRect().height},o.getDropDownDependentContainerHeight=function(){var e=o.node?o.node.querySelectorAll(".dependentDropdown div")[0]:null;return e&&e.getBoundingClientRect().height},o.getDropDownMainContainerHeight=function(){var e=o.node?o.node.parentNode.querySelectorAll(".dropdownMainContainer ")[0]:null;return e&&e.getBoundingClientRect().height},o.getHighestDropdownHeight=function(){var e=o.getDropDownContainerHeight(),t=o.getDropDownDependentContainerHeight(),n=0;return e&&t&&(n=e>t?e:t),n},o.primaryLayerHandler=function(e,t,n){e.stopPropagation(),e.preventDefault();var s=t.replace(o.prefix,""),i=Object(r.a)({},o.prefix+t,{id:t,value:t,label:n,labelType:"L",breadCrumb:!0}),c=o.props.entireOptions[o.prefix+"oth_"+s+n]||{},l={};Object.keys(c).length&&(l=Object(a.a)(Object(r.a)({},o.prefix+"oth_"+s+n,{id:t,value:"oth_"+s+n,label:"Others",labelType:"SH"}),c)),o.setState({primaryLayerClickedValues:Object.assign(i,o.props.entireOptions[t],l),isFocused:!0,cursor:0,isClickedOnList:!0},(function(){o.node.querySelector("input").focus()}))},o.breadCrumbHandler=function(e){e.stopPropagation(),o.setState({primaryLayerClickedValues:{},dependentOptions:{},cursor:0,cursorPrevState:null})},o.getSelectedItems=function(){var e=o.props.parentSelectedValues;return o.props.parentSelectedValues&&o.props.parentSelectedValues.length?e.concat(o.props.selectedValues):o.props.selectedValues.length===Object.keys(o.props.options).length?["SelectAll"].concat(o.props.selectedValues):o.props.selectedValues},o.setInputRef=function(e){"setInputRef"in o.props&&o.props.setInputRef(e)},o.setDDRef=function(e){o.node=e,o.props.setDDRef&&o.props.setDDRef(e)},o.getDependentStyles=function(e){return{width:o.props.width+"px",left:(o.props.isNotDependentDDAlignmentFromTop?o.state.dependentLeft:o.props.width)+"px",position:"absolute",top:(o.props.isNotDependentDDAlignmentFromTop?o.state.dependentTop:0)+"px",height:o.props.isNotDependentDDAlignmentFromTop?"auto":e?e+"px":"auto",zIndex:99,background:"#fff"}},o.isPrimaryLayer=function(){return!o.state.inputValue.length&&!Object.keys(o.state.primaryLayerClickedValues).length&&o.props.isPrimaryLayer},o.mouseOverHandler=function(e){var t=e.target.getAttribute("index"),n=Object.keys(o.state.dependentOptions),a=n.length,r=e.target.parentNode.className.split(" ");if(e.target.className.indexOf("heading")>=0)return!1;for(var s=!1,i=0;i<r.length;i++)if("dependent"===r[i]){s=!0;break}var c=o.state.cursor;t=a&&s&&t>=0||!a&&t>=0?t:a&&!s&&t>=0?c:t;var l=o.getCurrentOptions(),u=a?o.state.dependentOptions[n[t]]:l[Object.keys(l)[t]];(!a&&u&&"L"===u.labelType||u&&"L"===u.labelType||o.isPrimaryLayer())&&o.setState({cursor:t})};var l=Object(e.config);return o.isAlwaysOpen=l.isAlwaysOpen,o.isFirstItemNotActive=l.isFirstItemNotActive,o.state={isOpen:o.isAlwaysOpen||!1,cursor:-1,inputValue:"",prevTypedValue:"",searchedItems:{},isSearched:!1,isFocused:!1,isBackSpace:!1,isSpaceBar:!1,placeholder:o.props.placeholder,dd_options:{},isKeyPressed:!1,primaryLayerClickedValues:{},isNotFound:!1,dependentOptions:{},isClickedOnList:!1,rightArrow:!1,currentSelected:null},o.ddOptionsScrollRef=d.a.createRef(),o}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.options;this.createOptions(e),this.setOptions(),this.handleDefaultValue(this.props.selectedValues.length)}},{key:"componentDidUpdate",value:function(e,t){var n=this.state.currentSelected;this.props.reRender&&e.options!==this.props.options&&this.handleDefaultValue(this.selectedValues.length),e.doNotRemoveSearchedValue!==this.props.doNotRemoveSearchedValue&&(this.doNotRemoveSearchedValue=this.props.doNotRemoveSearchedValue,!1===this.doNotRemoveSearchedValue&&this.resetSearch());var a=this.props,r=(a.multi,a.options);if(JSON.stringify(e.options)!==JSON.stringify(r)&&(this.createOptions(r),this.selectedValues.length&&this.handleDefaultValue(this.selectedValues.length)),JSON.stringify(e.selectedValues)!==JSON.stringify(this.props.selectedValues)&&(this.setOptions(),this.selectedValues=this.props.selectedValues?Object(s.a)(this.props.selectedValues):[],this.handleDefaultValue(this.selectedValues.length)),e.shouldResetSearch!==this.props.shouldResetSearch&&this.props.shouldResetSearch&&this.resetSearch(),this.selectedValues.length||this.state.placeholder===this.props.placeholder||this.setState({placeholder:this.props.placeholder}),n&&this.props.options[n]&&e.options[n]&&this.props.options[n].dependent&&e.options[n].dependent){var i=this.props.options[n].dependent;i===e.options[n].dependent&&n===t.currentSelected||this.setState({dependentOptions:i})}}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.handleClickOutside,!0),document.removeEventListener("keyup",this.handleClickOutside,!0)}},{key:"render",value:function(){var e=this.getCurrentOptions(),t=this.state.isOpen&&!this.state.isNotFound&&Object.keys(this.state.dependentOptions).length>0?" openDependent":"",n=this.getHighestDropdownHeight(),r="dropdownMainContainer";return r+=this.props.isInputDisabled?" disabled":"",r+=this.state.isFocused?" focus":"",r+=t,Object(m.jsxs)("div",{className:r,style:{width:this.props.width+"px"},onClick:this.handleDropDownClick,ref:this.setDDRef,children:[Object(m.jsx)("input",Object(a.a)({type:"text",name:this.props.id,id:this.props.id,spellCheck:"false",autoComplete:"off",title:this.state.inputValue,placeholder:this.state.placeholder,onChange:this.handleChange,onKeyUp:this.handleKeyUpEvent,onKeyDown:this.handleKeyDownEvent,value:this.state.inputValue,onFocus:this.focusHandler,onClick:this.clickHandler,className:this.props.search?"ddInput":"ddInput nonSearched",ref:this.setInputRef,onBlur:this.blurHandler,disabled:this.props.isInputDisabled},this.props.otherInputProps)),this.props.rel&&Object(m.jsx)("input",{type:"hidden",id:this.props.id+"Id",rel:this.props.rel,errorfocusselector:"#"+this.props.id,value:this.state.placeholder!==this.props.placeholder?this.state.placeholder:""}),this.props.renderIcon?this.props.renderIcon():Object(m.jsx)("span",{className:"dropArrowDD",children:"\u02c5"}),Object(m.jsxs)("div",{className:this.state.isOpen?"dropDownPrimaryContainer dropdownShow ".concat(this.isPrimaryLayer()?"primaryLayerOpen":""):"dropDownPrimaryContainer",children:[this.props.header&&Object(m.jsx)("div",{className:"dropDownHeader",children:this.props.header()}),Object(m.jsx)("div",{className:this.state.isOpen?"dropdownContainer dropdownShow "+(this.props.className?this.props.className:""):"dropdownContainer "+(this.props.className?this.props.className:""),style:{width:this.state.dependentOptions&&0===Object.keys(this.state.dependentOptions).length?"auto":this.props.width+"px"},children:Object(m.jsxs)("div",{className:"dropdownPrimary",style:{minWidth:this.state.dependentOptions&&0===Object.keys(this.state.dependentOptions).length?(this.props.minWidth?this.props.minWidth:this.props.width)+"px":"auto",maxWidth:this.props.maxWidth?this.props.maxWidth+"px":"auto",width:this.state.dependentOptions&&0===Object.keys(this.state.dependentOptions).length?"auto":this.props.width+"px",height:n?n+"px":"auto"},children:[this.state.isOpen&&this.state.isNotFound&&Object(m.jsx)(b,{isOpen:this.state.isOpen,className:this.props.className,optionsScrollRef:this.ddOptionsScrollRef,li:Object(m.jsx)("li",{className:"notFound",children:this.notFoundCustomTemplate(this.state.inputValue,this.props.displayName)})}),this.state.isOpen&&!this.state.isNotFound&&Object.keys(e).length>0&&Object(m.jsx)(x,{isPrimaryLayer:this.isPrimaryLayer(),primaryLayerHandler:this.primaryLayerHandler,breadCrumbHandler:this.breadCrumbHandler,prefix:this.prefix,displayName:this.props.displayName,liCustomTemplate:this.props.customTemplate,onSelectAll:this.selectAllFunc,searchedValue:this.state.inputValue,isOpen:this.state.isOpen,cursor:null!=this.state.cursorPrevState&&void 0!=this.state.cursorPrevState?this.state.cursorPrevState:this.state.cursor,dependentOpenClass:this.getDependentOpenClass(),options:e,multi:this.props.multi,onClickHandler:this.selectListClickHandler,selectedItems:this.getSelectedItems(),showArrow:this.props.showArrow,maxHeight:this.props.maxHeight,width:this.props.width,isVirtualization:this.props.isVirtualization,onMouseOverHandler:this.mouseOverHandler,addTitleToDefaultListItem:this.props.addTitleToDefaultListItem,getSearchRegexString:this.props.getSearchRegexString,onScrollFrameHandler:this.props.onScrollFrameHandler,scrollIdSuffix:this.props.id,optionsScrollRef:this.ddOptionsScrollRef})]})}),this.state.isOpen&&!this.state.isNotFound&&Object.keys(this.state.dependentOptions).length>0&&Object(m.jsx)("div",{className:"dependentDropdown",style:this.getDependentStyles(n),children:Object(m.jsx)(x,{prefix:this.prefix,liCustomTemplate:this.props.customTemplate,onSelectAll:this.selectAllFunc,searchedValue:this.state.inputValue,isOpen:this.state.isOpen,cursor:this.state.cursor,options:this.state.dependentOptions,multi:this.props.multi,dependent:!0,onClickHandler:this.selectListClickHandler,selectedItems:this.props.selectedValues.length===Object.keys(this.props.options).length?["SelectAll"].concat(this.props.selectedValues):this.props.selectedValues,showArrow:this.props.showArrow,maxHeight:this.props.maxHeight,width:this.props.width,isVirtualization:this.props.isVirtualization,onMouseOverHandler:this.mouseOverHandler,addTitleToDefaultListItem:this.props.addTitleToDefaultListItem,getSearchRegexString:this.props.getSearchRegexString,optionsScrollRef:this.ddOptionsScrollRef})}),this.props.footer&&Object(m.jsx)("div",{className:"footer",children:this.props.footer()})]})]})}}]),n}(d.a.PureComponent);w.defaultProps=(S={selectedValues:[],prefix:"a",doNotRemoveSearchedValue:null,width:300,placeholder:"Select an option",multi:!1,search:!0,displayName:"",isInputDisabled:!1,isSearchPersist:!1,maxHeight:300,isVirtualization:!1,isAllowDeselectionInSingleSelect:!1,openWithHeader:!1,shouldResetSearch:!1,addTitleToDefaultListItem:!1,moveToScrollTop:!1,setCursorPosition:0,handleBackSpace:!0,getSearchRegexString:function(e){return"\\b(".concat(e,")")},removeValueOnBackspaceForSingleSelect:!1,splitter:".",otherInputProps:{}},Object(r.a)(S,"handleBackSpace",!0),Object(r.a)(S,"persistSelectedValue",!1),S);var C=w;t.a=C}}]);